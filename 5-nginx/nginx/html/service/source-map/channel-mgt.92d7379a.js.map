{"version":3,"sources":["webpack:///./src/view/channel-mgt/QR-code-page/index.vue?ea64","webpack:///./src/view/channel-mgt/introduction-page/component.vue?4d51","webpack:///./src/view/channel-mgt/QR-code-page/add-qr.vue?993b","webpack:///./src/view/channel-mgt/introduction-page/channel-table.vue?1cba","webpack:///./src/view/channel-mgt/QR-code-page/add-qr.vue?b427","webpack:///src/view/channel-mgt/QR-code-page/add-qr.vue","webpack:///./src/api/evaluation.js","webpack:///./src/view/channel-mgt/QR-code-page/add-qr.vue?a185","webpack:///./src/view/channel-mgt/QR-code-page/add-qr.vue?67e2","webpack:///./src/view/channel-mgt/introduction-page/index.vue?1d66","webpack:///./src/view/channel-mgt/introduction-page/index.vue?c9e8","webpack:///src/view/channel-mgt/introduction-page/index.vue","webpack:///./src/view/channel-mgt/introduction-page/index.vue","webpack:///./src/view/channel-mgt/introduction-page/channel-table.vue?0f0a","webpack:///./src/view/channel-mgt/QR-code-page/index.vue?5536","webpack:///./src/view/channel-mgt/QR-code-page/index.vue?f398","webpack:///src/view/channel-mgt/QR-code-page/index.vue","webpack:///./src/api/abilityTest.js","webpack:///./src/view/channel-mgt/QR-code-page/index.vue","webpack:///./src/view/channel-mgt/introduction-page/component.vue?6a19","webpack:///src/view/channel-mgt/introduction-page/new-channel.vue","webpack:///./src/view/channel-mgt/introduction-page/new-channel.vue?39f6","webpack:///./src/view/channel-mgt/introduction-page/new-channel.vue","webpack:///./src/view/channel-mgt/introduction-page/new-channel.vue?7326","webpack:///./src/view/channel-mgt/introduction-page/channel-table.vue?83e8","webpack:///src/view/channel-mgt/introduction-page/channel-table.vue","webpack:///./src/view/channel-mgt/introduction-page/channel-table.vue","webpack:///./src/view/channel-mgt/introduction-page/channel-table.vue?f441","webpack:///./src/view/channel-mgt/introduction-page/component.vue?7df2","webpack:///src/view/channel-mgt/introduction-page/component.vue","webpack:///./src/view/channel-mgt/introduction-page/component.vue","webpack:///./src/view/channel-mgt/introduction-page/new-channel.vue?eb3c"],"names":["getQrCodeInfo","params","axios","request","url","data","method","editQrCode","createQrCode","name","components","SelectChannel","props","qrCodeID","String","Number","selectChannelModal","schoolList","ignoreSchool","imgList","qrCodeInfo","isDefault","columns","channels","channelsTemp","computed","userInfo","this","$store","state","user","crmUserInfo","roleRelativeData","methods","resetImgList","addUpload","push","cityId","fileUrl","fileName","deleteUpload","$Modal","confirm","title","onOk","okText","uploadSuccess","$set","index","Object","assign","deleteImg","duplicates","a","i","b","indexOf","save","duplicateSchool","length","$Message","warning","filter","cityID","img","qrCode","qrCodeName","channelIDs","map","qrCodeConfig","teacherName","workCode","empNo","fn","then","content","err","message","duration","confirmSelection","concat","onSelectItem","items","cancel","$emit","_vm","_h","$createElement","_c","_self","staticClass","attrs","crmRoleId","staticStyle","on","model","value","callback","$$v","expression","_v","_e","_l","key","school","_s","cityName","$event","Math","round","random","IntroductionComponent","addQrCodeModal","formData","QRCodeName","channelId","channelName","channelOne","channelTwo","creator","campus","creatorList","tableData","tableLoading","pageNo","pageSize","totalCount","tableColumns","handleSearch","channelID","primaryChannel","secondaryChannel","handleReset","$options","fetchSchoolList","handleDeleteQrCode","id","onChangePage","page","onPageSizeChange","addQRCode","editQRCode","qrCodeEditSuccess","mounted","component","ref","item","prevFormData","type","default","isEdit","Boolean","channelType","ruleValidate","channelTypeList","created","_getChannelType","init","$refs","form","validate","bol","keyInt","NewChannel","isDisplaySelection","showEditModal","appletList","checkAllGroupQRCode","indeterminate","checkAll","showDownloadModal","checkAllGroupQRCodeList","channelTableData","channelTableIsSelectColumns","channelTableColumns","fetchChannelList","handleCheckAll","checkAllGroupChange","filterBound","handleCannelDownload","handleEditChannel","editSuccess","handleDownloadQRCode","forEach","checkItem","evaluationName","link","href","download","setTimeout","click","downloadMiniCode","fetchDownloadQRCodedetails","nativeOn","preventDefault","isSelect","ChannelTable","showModal","channelTable"],"mappings":"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","file":"js/channel-mgt.92d7379a.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=79ee30cc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=79ee30cc&lang=less&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./component.vue?vue&type=style&index=0&id=eb520d60&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./component.vue?vue&type=style&index=0&id=eb520d60&lang=less&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-qr.vue?vue&type=style&index=0&id=1d1c72f8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-qr.vue?vue&type=style&index=0&id=1d1c72f8&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channel-table.vue?vue&type=style&index=0&id=44536e84&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channel-table.vue?vue&type=style&index=0&id=44536e84&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Form',{staticClass:\"add-qr\",attrs:{\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"上传二维码：\"}},[(_vm.crmUserInfo.crmRoleId === 9 && _vm.qrCodeInfo.isDefault === 0)?_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('RadioGroup',{on:{\"on-change\":_vm.resetImgList},model:{value:(_vm.ignoreSchool),callback:function ($$v) {_vm.ignoreSchool=$$v},expression:\"ignoreSchool\"}},[_c('Radio',{attrs:{\"label\":0}},[_vm._v(\"不区分分校\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":1}},[_vm._v(\"区分分校\")])],1)],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.imgList),function(img,index){return _c('div',{key:index,staticStyle:{\"display\":\"flex\",\"margin-bottom\":\"10px\"}},[(_vm.ignoreSchool === 1)?_c('Select',{staticStyle:{\"width\":\"100px\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"请选择分校\",\"multiple\":\"\"},model:{value:(_vm.imgList[index].cityId),callback:function ($$v) {_vm.$set(_vm.imgList[index], \"cityId\", $$v)},expression:\"imgList[index].cityId\"}},_vm._l((_vm.schoolList),function(school){return _c('Option',{key:school.cityID,attrs:{\"value\":school.cityID}},[_vm._v(_vm._s(school.cityName))])}),1):_vm._e(),_vm._v(\" \"),(img.fileUrl)?_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"margin-right\":\"10px\"}},[_c('img',{attrs:{\"src\":img.fileUrl,\"width\":\"100\",\"height\":\"100\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(img.fileName))]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){return _vm.deleteImg(index)}}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),(_vm.ignoreSchool === 1)?_c('div',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUpload}},[_vm._v(\"+\")])],1):_vm._e()]):_c('div',[_c('TalOssUpload',{attrs:{\"bindName\":\"上传图片\",\"btnId\":'talOssUpload-' + Math.round(Math.random() * 1000000),\"limitFile\":\"image\"},on:{\"uploadSuccess\":function($event){return _vm.uploadSuccess($event, index)}}}),_vm._v(\" \"),(_vm.ignoreSchool === 1)?[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUpload}},[_vm._v(\"+\")]),_vm._v(\" \"),(_vm.imgList.length !== 1)?_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){return _vm.deleteUpload(index)}}},[_vm._v(\"-\")]):_vm._e()]:_vm._e()],2)],1)})],2),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"渠道列表：\"}},[(_vm.qrCodeID && _vm.qrCodeInfo.isDefault === 1)?[_vm._v(\"\\n        默认二维码\\n      \")]:[_c('Button',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.selectChannelModal = true}}},[_vm._v(\"选择渠道\")]),_vm._v(\" \"),(_vm.channels.length)?_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.channels}}):_vm._e()]],2),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"text-align\":\"right\"}},[_c('Button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"选择渠道\",\"width\":1000,\"footer-hide\":\"\"},model:{value:(_vm.selectChannelModal),callback:function ($$v) {_vm.selectChannelModal=$$v},expression:\"selectChannelModal\"}},[(_vm.selectChannelModal)?_c('SelectChannel',{attrs:{\"isSelect\":\"\"},on:{\"onSelectItem\":_vm.onSelectItem}}):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('Button',{on:{\"click\":function($event){_vm.selectChannelModal = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmSelection}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Form class=\"add-qr\" :label-width=\"100\">\n      <FormItem label=\"上传二维码：\">\n        <div v-if=\"crmUserInfo.crmRoleId === 9 && qrCodeInfo.isDefault === 0\" style=\"margin-bottom: 10px\">\n          <RadioGroup v-model=\"ignoreSchool\" @on-change=\"resetImgList\">\n            <Radio :label=0>不区分分校</Radio>\n            <Radio :label=1>区分分校</Radio>\n          </RadioGroup>\n        </div>\n        <div v-for=\"(img, index) in imgList\" :key=\"index\" style=\"display: flex; margin-bottom: 10px\">\n          <Select v-if=\"ignoreSchool === 1\" v-model=\"imgList[index].cityId\" placeholder=\"请选择分校\" style=\"width: 100px;margin-right: 10px\" multiple>\n            <Option v-for=\"school in schoolList\" :value=\"school.cityID\" :key=\"school.cityID\">{{ school.cityName }}</Option>\n          </Select>\n          <div v-if=\"img.fileUrl\" style=\"display: flex\">\n            <div style=\"display: flex; flex-direction: column; margin-right: 10px\">\n              <img :src=\"img.fileUrl\" width=\"100\" height=\"100\">\n              <span>{{ img.fileName }}</span>\n              <Button type=\"error\" @click=\"deleteImg(index)\">删除</Button>\n            </div>\n            <div v-if=\"ignoreSchool === 1\"><Button type=\"primary\" @click=\"addUpload\">+</Button></div>\n          </div>\n          <div v-else>\n            <TalOssUpload bindName=\"上传图片\"\n                          :btnId=\"'talOssUpload-' + Math.round(Math.random() * 1000000)\"\n                          limitFile=\"image\" @uploadSuccess=\"uploadSuccess($event, index)\">\n            </TalOssUpload>\n            <template v-if=\"ignoreSchool === 1\">\n              <Button type=\"primary\" @click=\"addUpload\">+</Button>\n              <Button v-if=\"imgList.length !== 1\" type=\"error\" @click=\"deleteUpload(index)\">-</Button>\n            </template>\n          </div>\n        </div>\n      </FormItem>\n      <FormItem label=\"渠道列表：\">\n        <template v-if=\"qrCodeID && qrCodeInfo.isDefault === 1\">\n          默认二维码\n        </template>\n        <template v-else>\n          <Button type=\"primary\" style=\"margin-bottom: 10px\" @click=\"selectChannelModal = true\">选择渠道</Button>\n          <Table v-if=\"channels.length\" :columns=\"columns\" :data=\"channels\"></Table>\n        </template>\n      </FormItem>\n      <FormItem style=\"text-align: right\">\n        <Button @click=\"cancel\">取消</Button>\n        <Button type=\"primary\" @click=\"save\">保存</Button>\n      </FormItem>\n    </Form>\n    <Modal v-model=\"selectChannelModal\" title=\"选择渠道\"  :width=\"1000\" footer-hide>\n      <SelectChannel v-if=\"selectChannelModal\" isSelect @onSelectItem=\"onSelectItem\"></SelectChannel>\n      <div style=\"text-align: right\">\n        <Button @click=\"selectChannelModal = false\">取消</Button>\n        <Button type=\"primary\" @click=\"confirmSelection\">确定</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { createQrCode, getQrCodeInfo, getSchoolList, editQrCode } from '@/api/evaluation'\nimport SelectChannel from '../introduction-page/component'\nexport default {\n  name: 'addQRCode',\n  components: {\n    SelectChannel\n  },\n  props: {\n    qrCodeID: [String, Number]\n  },\n  data () {\n    return {\n      selectChannelModal: false,\n      schoolList: [],\n      ignoreSchool: 0, // 是否区分分校，0不区分，1区分\n      imgList: [\n        {\n          cityId: [],\n          fileUrl: '', // oss链接\n          fileName: ''// 文件名字\n        }\n      ],\n      qrCodeInfo: {\n        isDefault: 0\n      },\n      columns: [\n        {\n          title: '渠道ID',\n          key: 'channelID'\n        },\n        {\n          title: '渠道名称',\n          key: 'channelName'\n        },\n        {\n          title: '一级渠道',\n          key: 'primaryChannel'\n        },\n        {\n          title: '二级渠道',\n          key: 'secondaryChannel'\n        },\n        {\n          title: '创建人',\n          key: 'teacherName',\n          render: (h, params) => {\n            return h('span', `${params.row.teacherName}（${params.row.workCode}）`)\n          }\n        },\n        {\n          title: '创建时间',\n          key: 'createTime'\n        },\n        {\n          title: '操作',\n          key: 'classType',\n          render: (h, params) => {\n            return h('a', {\n              on: {\n                click: () => {\n                  this.$Modal.confirm({\n                    title: '确认删除当前渠道？',\n                    onOk: () => {\n                      this.channels.splice(params.index, 1)\n                    },\n                    okText: '确认删除'\n                  })\n                }\n              }\n            }, '删除')\n          }\n        }\n      ],\n      channels: [],\n      channelsTemp: []\n    }\n  },\n  computed: {\n    userInfo () {\n      return this.$store.state.user.userInfo\n    },\n    crmUserInfo () {\n      return this.$store.state.roleRelativeData.userInfo\n    }\n  },\n  methods: {\n    resetImgList () {\n      this.imgList = [\n        {\n          cityId: [],\n          fileUrl: '', // oss链接\n          fileName: ''// 文件名字\n        }\n      ]\n    },\n    addUpload () {\n      this.imgList.push({\n        cityId: [],\n        fileUrl: '', // oss链接\n        fileName: ''// 文件名字\n      })\n    },\n    deleteUpload (index) {\n      this.$Modal.confirm({\n        title: '确认删除当前二维码？',\n        onOk: () => {\n          this.imgList.splice(index, 1)\n        },\n        okText: '确认删除'\n      })\n    },\n    uploadSuccess (data, index) {\n      this.$set(this.imgList, index, Object.assign({}, this.imgList[index], data))\n    },\n    deleteImg (index) {\n      this.$Modal.confirm({\n        title: '确认删除当前二维码？',\n        onOk: () => {\n          this.$set(this.imgList, index,\n            Object.assign(this.imgList[index], {\n              fileUrl: '', // oss链接\n              fileName: ''// 文件名字\n            }))\n        },\n        okText: '确认删除'\n      })\n    },\n    duplicates (arr) {\n      let a = arr.sort()\n      let b = []\n      for (let i in a) {\n        if (a[i] === a[i - 1] && b.indexOf(a[i]) === -1) b.push(a[i])\n      }\n      return b\n    },\n    save () {\n      if (this.ignoreSchool === 1) {\n        const selectedSchool = this.imgList.map(img => img.cityId).reduce((l, r) => l.concat(r))\n        const duplicateSchool = this.duplicates(selectedSchool)\n        if (duplicateSchool.length > 0) {\n          const schoolNames = duplicateSchool.map(d => this.schoolList.find(s => s.cityID === d).cityName).join(',')\n          this.$Message.warning(`不同二维码请勿选择重复的城市：[${schoolNames}]`)\n          return\n        }\n        if (this.imgList.filter(img => img.cityId.length === 0).length > 0) { // 区分分校的时候，分校必选\n          this.$Message.warning('请选择分校')\n          return\n        }\n      }\n      if (this.imgList.filter(img => !img.fileUrl).length > 0) { // 必须上传二维码\n        this.$Message.warning('请上传二维码')\n        return\n      }\n      if (this.channels.length === 0) { // 必须选择渠道\n        this.$Message.warning('请选择渠道')\n        return\n      }\n      const qrCodeConfig = this.imgList.map(img => {\n        return {\n          cityID: img.cityId,\n          qrCode: img.fileUrl,\n          qrCodeName: img.fileName\n        }\n      })\n      let params = {\n        channelIDs: this.channels.map(c => c.channelID),\n        ignoreSchool: this.ignoreSchool,\n        qrCodeConfig,\n        teacherName: this.userInfo.name,\n        workCode: this.userInfo.empNo\n      }\n      let fn = createQrCode\n      if (this.qrCodeID) {\n        params.qrCodeID = this.qrCodeID\n        fn = editQrCode\n      }\n      fn(params).then(() => {\n        this.$Message.success('操作成功')\n        this.$emit('editSuccess')\n      }).catch(err => {\n        this.$Message.error({\n          content: '操作失败：' + err.message,\n          duration: 5\n        })\n      })\n    },\n    confirmSelection () {\n      const ids = this.channels.map(c => c.channelID)\n      this.channelsTemp = this.channelsTemp.filter(c => !ids.includes(c.channelID)) // 多次选择的时候，过滤掉已选中过的渠道\n      this.channels = this.channels.concat(this.channelsTemp)\n      this.selectChannelModal = false\n    },\n    onSelectItem (items) {\n      this.channelsTemp = items\n    },\n    cancel () {\n      this.$emit('cancel')\n    }\n  },\n  async mounted () {\n    try {\n      if (!this.qrCodeID) {\n        this.ignoreSchool = this.crmUserInfo.crmRoleId === 9 ? 1 : 0\n      }\n      const data = await getSchoolList()\n      this.schoolList = data.cityList\n      if (this.qrCodeID) {\n        this.qrCodeInfo = await getQrCodeInfo({\n          qrCodeID: this.qrCodeID\n        })\n        this.ignoreSchool = this.qrCodeInfo.ignoreSchool\n        this.imgList = this.qrCodeInfo.qrCodeConfig.map(conf => {\n          return {\n            cityId: conf.cityID,\n            fileUrl: conf.qrCode,\n            fileName: conf.qrCodeName\n          }\n        })\n        this.channels = this.qrCodeInfo.channelList\n        if (this.imgList.filter(img => img.cityId && img.cityId.length > 0).length > 0 && this.qrCodeInfo.isDefault === 0) {\n          this.ignoreSchool = 1\n        }\n      }\n    } catch (err) {\n      this.$Message.error({\n        content: '编辑二维码初始化失败：' + err.message,\n        duration: 5\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .add-qr {\n    margin: 10px;\n    padding: 10px;\n    background: #FFFFFF;\n  }\n</style>\n","import axios from '../libs/api.request'\n\n/**\n * @毛航航\n *  能力测评管理后台-查询分校列表\n *  http://apidoc-beta.speiyou.cn/doclist?apidocId=25364\n */\nexport const getSchoolList = params => {\n  return axios.request({\n    url: '/evaluation/getSchoolList',\n    data: params,\n    method: 'POST'\n  })\n}\n\n/**\n * @毛航航\n *  能力测评管理后台-查询二维码信息\n *  http://apidoc-beta.speiyou.cn/doclist?apidocId=25363\n */\nexport const getQrCodeInfo = params => {\n  return axios.request({\n    url: '/evaluation/getQrCodeInfo',\n    data: params,\n    method: 'POST'\n  })\n}\n\n/**\n * @毛航航\n *  能力测评管理后台-编辑二维码\n *  http://apidoc-beta.speiyou.cn/doclist?apidocId=25361\n */\nexport const editQrCode = params => {\n  return axios.request({\n    url: '/evaluation/editQrCode',\n    data: params,\n    method: 'POST'\n  })\n}\n\n/**\n * @毛航航\n *  能力测评管理后台-新增二维码信息\n *  http://apidoc-beta.speiyou.cn/doclist?apidocId=25360\n */\nexport const createQrCode = params => {\n  return axios.request({\n    url: '/evaluation/createQrCode',\n    data: params,\n    method: 'POST'\n  })\n}\n\n/**\n * @毛航航\n *  能力测评管理后台-删除二维码信息\n *  http://apidoc-beta.speiyou.cn/doclist?apidocId=25362\n */\nexport const deleteQrCode = params => {\n  return axios.request({\n    url: '/evaluation/deleteQrCode',\n    data: params,\n    method: 'POST'\n  })\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-qr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-qr.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add-qr.vue?vue&type=template&id=1d1c72f8&scoped=true&\"\nimport script from \"./add-qr.vue?vue&type=script&lang=js&\"\nexport * from \"./add-qr.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add-qr.vue?vue&type=style&index=0&id=1d1c72f8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d1c72f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IntroductionComponent')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n    <IntroductionComponent />\n</template>\n\n<script>\nimport IntroductionComponent from './component.vue'\nexport default {\n  name: 'introductionPage',\n  components: {\n    IntroductionComponent\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=30e43ad7&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channel-table.vue?vue&type=style&index=1&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channel-table.vue?vue&type=style&index=1&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"layout\"},[_c('Form',{ref:\"formRef\",staticClass:\"form-container\",attrs:{\"model\":_vm.formData,\"label-width\":76,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"二维码名称\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.QRCodeName),callback:function ($$v) {_vm.$set(_vm.formData, \"QRCodeName\", $$v)},expression:\"formData.QRCodeName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"渠道id\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.channelId),callback:function ($$v) {_vm.$set(_vm.formData, \"channelId\", $$v)},expression:\"formData.channelId\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"渠道名称\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.channelName),callback:function ($$v) {_vm.$set(_vm.formData, \"channelName\", $$v)},expression:\"formData.channelName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"一级渠道\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.channelOne),callback:function ($$v) {_vm.$set(_vm.formData, \"channelOne\", $$v)},expression:\"formData.channelOne\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"二级渠道\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.channelTwo),callback:function ($$v) {_vm.$set(_vm.formData, \"channelTwo\", $$v)},expression:\"formData.channelTwo\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"创建人\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.creator),callback:function ($$v) {_vm.$set(_vm.formData, \"creator\", $$v)},expression:\"formData.creator\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"分校\"}},[_c('Select',{staticStyle:{\"width\":\"150px\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入\"},model:{value:(_vm.formData.campus),callback:function ($$v) {_vm.$set(_vm.formData, \"campus\", $$v)},expression:\"formData.campus\"}},_vm._l((_vm.schoolList),function(item){return _c('Option',{key:item.cityID,attrs:{\"value\":item.cityID}},[_vm._v(_vm._s(item.cityName))])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('Button',{staticStyle:{\"margin-right\":\"8px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查 询\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重 置\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"qrCodeTableContainer\"},[_c('div',{staticClass:\"qrCodeHeader\"},[_c('h2',{},[_vm._v(\"二维码列表\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addQRCode}},[_vm._v(\"新增二维码\")])],1),_vm._v(\" \"),_c('Table',{staticStyle:{\"marginTop\":\"24px\"},attrs:{\"loading\":_vm.tableLoading,\"columns\":_vm.tableColumns,\"data\":_vm.tableData}}),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('Page',{staticStyle:{\"marginTop\":\"12px\"},attrs:{\"total\":_vm.totalCount,\"page-size-opts\":[10,20,40],\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.onChangePage,\"on-page-size-change\":_vm.onPageSizeChange}})],1)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.qrCodeID ?'编辑渠道二维码' : '新增渠道二维码',\"width\":1200,\"footer-hide\":\"\"},model:{value:(_vm.addQrCodeModal),callback:function ($$v) {_vm.addQrCodeModal=$$v},expression:\"addQrCodeModal\"}},[(_vm.addQrCodeModal)?_c('AddQRCode',{attrs:{\"qrCodeID\":_vm.qrCodeID},on:{\"editSuccess\":_vm.qrCodeEditSuccess,\"cancel\":function($event){_vm.addQrCodeModal = false}}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <div class=\"layout\">\n      <Form class=\"form-container\" ref=\"formRef\" :model=\"formData\" :label-width=\"76\" inline>\n        <FormItem label=\"二维码名称\">\n          <Input v-model=\"formData.QRCodeName\" placeholder=\"请输入\" style=\"width: 150px;\"></Input>\n        </FormItem>\n        <FormItem label=\"渠道id\">\n          <Input v-model=\"formData.channelId\" placeholder=\"请输入\" style=\"width: 150px;\"></Input>\n        </FormItem>\n        <FormItem label=\"渠道名称\">\n          <Input v-model=\"formData.channelName\" placeholder=\"请输入\" style=\"width: 150px;\"></Input>\n        </FormItem>\n        <FormItem label=\"一级渠道\">\n          <Input v-model=\"formData.channelOne\" placeholder=\"请输入\" style=\"width: 150px;\"></Input>\n        </FormItem>\n        <FormItem label=\"二级渠道\">\n          <Input v-model=\"formData.channelTwo\" placeholder=\"请输入\" style=\"width: 150px;\"></Input>\n        </FormItem>\n<!--        <FormItem label=\"创建人\">-->\n<!--          <Select-->\n<!--            v-model=\"formData.creator\"-->\n<!--            filterable-->\n<!--            clearable-->\n<!--            remote-->\n<!--            :remote-method=\"getCreatorList\"-->\n<!--            label-in-value-->\n<!--            style=\"width: 150px;\"-->\n<!--            placeholder=\"请输入\"-->\n<!--          >-->\n<!--            <Option-->\n<!--              v-for=\"item in creatorList\"-->\n<!--              :value=\"item.userWorkCode\"-->\n<!--              :key=\"item.userWorkCode\"-->\n<!--            >{{item.userName}} - {{item.userWorkCode}}</Option>-->\n<!--          </Select>-->\n<!--        </FormItem>-->\n        <FormItem label=\"创建人\">\n          <Input v-model=\"formData.creator\" placeholder=\"请输入\" style=\"width: 150px;\" />\n        </FormItem>\n        <FormItem label=\"分校\">\n          <Select\n            v-model=\"formData.campus\"\n            style=\"width: 150px;\"\n            filterable\n            clearable\n            placeholder=\"请输入\"\n          >\n            <Option\n              v-for=\"item in schoolList\"\n              :value=\"item.cityID\"\n              :key=\"item.cityID\"\n            >{{ item.cityName }}</Option>\n          </Select>\n        </FormItem>\n        <div class=\"btns\">\n          <Button type=\"primary\" style=\"margin-right: 8px;\" @click=\"handleSearch\">查 询</Button>\n          <Button @click=\"handleReset\">重 置</Button>\n        </div>\n      </Form>\n      <div class=\"qrCodeTableContainer\">\n        <div class=\"qrCodeHeader\">\n          <h2 style=\"\">二维码列表</h2>\n          <Button type=\"primary\" style=\"position: absolute; top: 0; right: 0;\" @click=\"addQRCode\">新增二维码</Button>\n        </div>\n        <Table\n          :loading=\"tableLoading\"\n          :columns=\"tableColumns\"\n          :data=\"tableData\"\n          style=\"marginTop: 24px\"\n        ></Table>\n        <Row type=\"flex\" justify=\"end\">\n          <Page\n            :total=\"totalCount\"\n            :page-size-opts=\"[10,20,40]\"\n            @on-change=\"onChangePage\"\n            @on-page-size-change=\"onPageSizeChange\"\n            show-sizer\n            show-total\n            style=\"marginTop: 12px\"\n          />\n        </Row>\n      </div>\n    </div>\n    <Modal v-model=\"addQrCodeModal\" :title=\"qrCodeID ?'编辑渠道二维码' : '新增渠道二维码'\"  :width=\"1200\" footer-hide>\n      <AddQRCode v-if=\"addQrCodeModal\" :qrCodeID=\"qrCodeID\" @editSuccess=\"qrCodeEditSuccess\" @cancel=\"addQrCodeModal = false\"></AddQRCode>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { getStrLength } from '@/utils/utils'\n// import { getUserList } from '@/api/diagnosis'\nimport { getSchoolList, getQrCodeList, deleteQrCode } from '@/api/abilityTest'\nimport AddQRCode from './add-qr'\n\nexport default {\n  name: 'QRCodePage',\n  components: { AddQRCode },\n  data () {\n    return {\n      qrCodeID: '',\n      addQrCodeModal: false,\n      formData: {\n        QRCodeName: '',\n        channelId: '',\n        channelName: '',\n        channelOne: '',\n        channelTwo: '',\n        creator: '',\n        campus: ''\n      },\n      creatorList: [],\n      schoolList: [],\n      tableData: [],\n      tableLoading: false,\n      pageNo: 1,\n      pageSize: 10,\n      totalCount: 0,\n      tableColumns: [\n        {\n          title: '二维码名称',\n          align: 'center',\n          width: 160,\n          render: (h, params) => {\n            let qrCodeNamesStr = params.row.qrCodeNames.length > 1 ? params.row.qrCodeNames[0] + '...' : params.row.qrCodeNames[0]\n            return h('span', qrCodeNamesStr)\n          }\n        },\n        {\n          title: '渠道ID',\n          align: 'center',\n          render: (h, params) => {\n            let channelIDsStr = params.row.channelIDs.toString()\n            return h('span', getStrLength(channelIDsStr, 15, true))\n          }\n        },\n        {\n          title: '创建人',\n          align: 'center',\n          minWidth: 120,\n          key: 'teacherName',\n          render: (h, params) => {\n            return h('span', `${params.row.teacherName}（${params.row.workCode}）`)\n          }\n        },\n        {\n          title: '创建时间',\n          align: 'center',\n          key: 'createTime'\n        },\n        {\n          title: '操作',\n          align: 'center',\n          key: 'action',\n          fixed: 'right',\n          width: 200,\n          render: (h, params) => {\n            return h('div', [\n              h(\n                'span',\n                {\n                  style: {\n                    display: this.crmUserInfo.crmRoleId === 9 || (this.userInfo.empNo === params.row.workCode && params.row.isDefault !== 1) ? 'block' : 'none',\n                    cursor: 'pointer',\n                    color: '#3385FF'\n                  },\n                  on: {\n                    click: () => {\n                      this.editQRCode(params.row.qrCodeID)\n                    }\n                  }\n                },\n                '编辑'\n              ),\n              h(\n                'span',\n                {\n                  style: {\n                    display: (this.crmUserInfo.crmRoleId === 9 && params.row.isDefault !== 1) || (this.userInfo.empNo === params.row.workCode && params.row.isDefault !== 1) ? 'block' : 'none',\n                    cursor: 'pointer',\n                    color: '#3385FF'\n                  },\n                  on: {\n                    click: () => {\n                      this.$Modal.confirm({\n                        title: '确定删除当前渠道二维码？',\n                        content: '<p style=\"font-size: 16px; line-height: 24px; color: red\">一旦删除二维码，则绑定渠道下的用户无法加微</p>',\n                        onOk: () => {\n                          this.handleDeleteQrCode(params.row.qrCodeID)\n                        },\n                        okText: '确认删除'\n                      })\n                    }\n                  }\n                },\n                '删除'\n              )\n            ])\n          }\n        }\n      ]\n    }\n  },\n  computed: {\n    userInfo () {\n      return this.$store.state.user.userInfo\n    },\n    crmUserInfo () {\n      return this.$store.state.roleRelativeData.userInfo\n    }\n  },\n  methods: {\n    // 查询\n    handleSearch () {\n      this.tableLoading = true\n      const params = {\n        qrCodeName: this.formData.QRCodeName,\n        channelID: this.formData.channelId,\n        channelName: this.formData.channelName,\n        primaryChannel: this.formData.channelOne,\n        secondaryChannel: this.formData.channelTwo,\n        creator: this.formData.creator,\n        cityID: this.formData.campus ? [this.formData.campus] : [],\n        pageNo: this.pageNo,\n        pageSize: this.pageSize\n      }\n      getQrCodeList(params)\n        .then(res => {\n          this.tableLoading = false\n          this.tableData = res.qrCodeList ? res.qrCodeList.map(qr => {\n            qr.channelIDs.sort()\n            return qr\n          }) : []\n          this.totalCount = res.totalCount\n        })\n        .catch(err => {\n          this.tableLoading = false\n          this.$Message.error({ content: err.message, duration: 5 })\n        })\n    },\n    // 重置\n    handleReset () {\n      // const data = this.$options.data()\n      // this.formData = data.formData\n      // this.$refs[formRef].resetFields()\n      Object.assign(this.formData, this.$options.data().formData)\n    },\n    // // 远程搜索创建人\n    // getCreatorList (userName) {\n    //   const params = {\n    //     userName\n    //   }\n    //   getUserList(params)\n    //     .then(res => {\n    //       this.creatorList = Object.freeze(res)\n    //     })\n    //     .catch(err => {\n    //       this.$Message.error({ content: err.message, duration: 5 })\n    //     })\n    // },\n    // 查询分校\n    fetchSchoolList () {\n      getSchoolList()\n        .then(res => {\n          this.schoolList = res.cityList\n        })\n        .catch(err => {\n          this.$Message.error({ content: err.message, duration: 5 })\n        })\n    },\n    // 删除二维码\n    handleDeleteQrCode (id) {\n      const params = {\n        qrCodeID: id\n      }\n      deleteQrCode(params)\n        .then(res => {\n          this.handleSearch()\n          this.$Message.success({ content: '删除成功', duration: 5 })\n        })\n        .catch(err => {\n          this.$Message.error({ content: err.message, duration: 5 })\n        })\n    },\n    onChangePage (page) {\n      this.pageNo = page\n      this.handleSearch()\n    },\n    onPageSizeChange (pageSize) {\n      this.pageNo = 1\n      this.pageSize = pageSize\n      this.handleSearch()\n    },\n    addQRCode () {\n      this.qrCodeID = ''\n      this.addQrCodeModal = true\n    },\n    editQRCode (id) {\n      this.qrCodeID = id\n      this.addQrCodeModal = true\n    },\n    qrCodeEditSuccess () {\n      this.addQrCodeModal = false\n      this.pageNo = 1\n      this.handleSearch()\n    }\n  },\n  mounted () {\n    this.fetchSchoolList()\n    this.handleSearch()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .layout {\n    padding: 24px;\n    line-height: 1.5;\n    width: 100%;\n    .form-container {\n      padding: 20px 16px 0 16px;\n      background: #fff;\n      border-radius: 4px;\n      position: relative;\n      .btns {\n        position: absolute;\n        right: 16px;\n        bottom: 24px;\n      }\n    }\n    .qrCodeTableContainer {\n      position: relative;\n      margin-top: 24px;\n      .qrCodeHeader {\n        right: 16px;\n        bottom: 24px;\n      }\n    }\n}\n</style>\n","import axios from '../libs/api.request'\n\n/**\n * @毛航航\n *  能力测评管理后台-查询分校列表\n *  http://apidoc-beta.speiyou.cn/doclist?apidocId=25364\n */\n\nexport const getSchoolList = params => {\n  return axios.request({\n    url: '/evaluation/getSchoolList',\n    method: 'post',\n    data: params\n  })\n}\n\n/**\n * @毛航航\n *  能力测评管理后台-查询二维码信息\n *  http://apidoc-beta.speiyou.cn/doclist?apidocId=25363\n */\n\nexport const getQrCodeInfo = params => {\n  return axios.request({\n    url: '/evaluation/getQrCodeInfo',\n    method: 'post',\n    data: params\n  })\n}\n\n/**\n * @毛航航\n *  能力测评管理后台-查询二维码信息\n *  http://apidoc-beta.speiyou.cn/doclist?apidocId=25359\n */\n\nexport const getQrCodeList = params => {\n  return axios.request({\n    url: '/evaluation/getQrCodeList',\n    method: 'post',\n    data: params\n  })\n}\n\n/**\n * @毛航航\n *  能力测评管理后台-删除二维码\n *  http://apidoc-beta.speiyou.cn/doclist?apidocId=25362\n */\n\nexport const deleteQrCode = params => {\n  return axios.request({\n    url: '/evaluation/deleteQrCode',\n    method: 'post',\n    data: params\n  })\n}\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=79ee30cc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=79ee30cc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79ee30cc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\"},[_c('Form',{staticClass:\"form-container\",attrs:{\"model\":_vm.formData,\"label-width\":64,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"渠道名称\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.channelName),callback:function ($$v) {_vm.$set(_vm.formData, \"channelName\", $$v)},expression:\"formData.channelName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"渠道id\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.channelID),callback:function ($$v) {_vm.$set(_vm.formData, \"channelID\", $$v)},expression:\"formData.channelID\"}})],1),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"width\":\"180px\"},attrs:{\"label\":\"渠道类型\"}},[_c('Select',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.channelType),callback:function ($$v) {_vm.$set(_vm.formData, \"channelType\", $$v)},expression:\"formData.channelType\"}},[_c('Option',{attrs:{\"value\":0}},[_vm._v(\"全部\")]),_vm._v(\" \"),_vm._l((_vm.channelTypeList),function(item){return _c('Option',{key:item.keyInt,attrs:{\"value\":item.keyInt}},[_vm._v(_vm._s(item.value))])})],2)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"一级渠道\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.primaryChannel),callback:function ($$v) {_vm.$set(_vm.formData, \"primaryChannel\", $$v)},expression:\"formData.primaryChannel\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"二级渠道\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.secondaryChannel),callback:function ($$v) {_vm.$set(_vm.formData, \"secondaryChannel\", $$v)},expression:\"formData.secondaryChannel\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"创建人\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.creator),callback:function ($$v) {_vm.$set(_vm.formData, \"creator\", $$v)},expression:\"formData.creator\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"place\"}),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[(!_vm.isSelect)?_c('Button',{staticStyle:{\"margin-right\":\"8px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showModal = true}}},[_vm._v(\"新增渠道\")]):_vm._e(),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-right\":\"8px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查 询\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重 置\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-container\"},[_c('ChannelTable',{ref:\"channelTable\",attrs:{\"isDisplaySelection\":_vm.isSelect},on:{\"onSelectItem\":_vm.onSelectItem}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"新增渠道\",\"footer-hide\":true},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[(_vm.showModal)?_c('NewChannel',{on:{\"cancel\":function($event){_vm.showModal = false},\"success\":_vm.handleSearch}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Form ref=\"form\" class=\"form-container\" :model=\"formData\" :label-width=\"80\" :rules=\"ruleValidate\">\n    <FormItem label=\"渠道类型\" required prop=\"channelType\">\n      <Select v-model=\"formData.channelType\"  placeholder=\"请输入\" >\n        <Option :value=\"item.keyInt\" v-for=\"item in channelTypeList\" :key=\"item.keyInt\">{{ item.value }}</Option>\n      </Select>\n    </FormItem>\n    <FormItem label=\"渠道名称\" required prop=\"channelName\">\n      <Input maxlength=\"30\" v-model=\"formData.channelName\" placeholder=\"请输入\" />\n    </FormItem>\n    <FormItem label=\"一级渠道\" required prop=\"primaryChannel\">\n      <Input maxlength=\"30\" v-model=\"formData.primaryChannel\" placeholder=\"请输入\" />\n    </FormItem>\n    <FormItem label=\"二级渠道\" prop=\"secondaryChannel\">\n      <Input maxlength=\"30\" v-model=\"formData.secondaryChannel\" placeholder=\"请输入\" />\n    </FormItem>\n    <FormItem>\n      <Button style=\"margin-left: 100px;\" @click=\"$emit('cancel')\">取消</Button>\n      <Button type=\"primary\" style=\"margin-left: 8px\" @click=\"save\">保存</Button>\n    </FormItem>\n  </Form>\n</template>\n\n<script>\nimport { getChannelType, createChannel, editChannel } from '@/api/bd'\nimport { mapState } from 'vuex'\nexport default {\n  props: {\n    prevFormData: {\n      type: Object,\n      default: () => {}\n    },\n    // 是否编辑\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    ...mapState({\n      userInfo: (state) => state.roleRelativeData.userInfo\n    })\n  },\n  data () {\n    return {\n      formData: {\n        channelName: null,\n        channelType: null,\n        primaryChannel: null,\n        secondaryChannel: null\n      },\n      ruleValidate: {\n        channelType: [\n          {\n            required: true,\n            message: '请选择渠道类型',\n            trigger: 'change'\n          }\n        ],\n        channelName: [\n          {\n            required: true,\n            message: '请输入渠道名称',\n            trigger: 'blur'\n          },\n          {\n            max: 30,\n            message: '最多不超过30个字',\n            trigger: 'blur'\n          }\n        ],\n        primaryChannel: [\n          {\n            required: true,\n            message: '请输入一级渠道',\n            trigger: 'blur'\n          },\n          {\n            max: 30,\n            message: '最多不超过30个字',\n            trigger: 'blur'\n          }\n        ],\n        secondaryChannel: [\n          {\n            max: 30,\n            message: '最多不超过30个字',\n            trigger: 'blur'\n          }\n        ]\n      },\n      channelTypeList: []\n    }\n  },\n  created () {\n    this.formData = Object.assign({}, this.prevFormData)\n    this._getChannelType()\n  },\n  methods: {\n    init () {\n      this._getChannelType()\n    },\n    // 获取渠道类型\n    async _getChannelType () {\n      try {\n        const data = await getChannelType()\n        this.channelTypeList = data.channelTypes\n      } catch (error) {\n        this.$Message.error({\n          content: `获取渠道类型失败: ${error.message}`,\n          duration: 5\n        })\n      }\n    },\n    async _createChannel () {\n      try {\n        const params = {\n          teacherName: this.userInfo.empName,\n          workCode: this.userInfo.empNo,\n          ...this.formData\n        }\n        let fn = createChannel\n        if (this.isEdit) fn = editChannel\n        await fn(params)\n        setTimeout(() => {\n          this.$emit('success')\n        }, 500)\n        this.$emit('success')\n      } catch (error) {\n        this.$Message.error({\n          content: `${this.isEdit ? '编辑' : '新增'}渠道失败: ${error.message}`,\n          duration: 5\n        })\n      }\n    },\n    save () {\n      this.$refs.form.validate((bol) => {\n        if (bol) {\n          this._createChannel()\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.form-container {\n  padding: 20px 16px 0 16px;\n  background: #fff;\n  border-radius: 4px;\n  position: relative;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-channel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-channel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./new-channel.vue?vue&type=template&id=420daf76&scoped=true&\"\nimport script from \"./new-channel.vue?vue&type=script&lang=js&\"\nexport * from \"./new-channel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./new-channel.vue?vue&type=style&index=0&id=420daf76&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"420daf76\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Form',{ref:\"form\",staticClass:\"form-container\",attrs:{\"model\":_vm.formData,\"label-width\":80,\"rules\":_vm.ruleValidate}},[_c('FormItem',{attrs:{\"label\":\"渠道类型\",\"required\":\"\",\"prop\":\"channelType\"}},[_c('Select',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.channelType),callback:function ($$v) {_vm.$set(_vm.formData, \"channelType\", $$v)},expression:\"formData.channelType\"}},_vm._l((_vm.channelTypeList),function(item){return _c('Option',{key:item.keyInt,attrs:{\"value\":item.keyInt}},[_vm._v(_vm._s(item.value))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"渠道名称\",\"required\":\"\",\"prop\":\"channelName\"}},[_c('Input',{attrs:{\"maxlength\":\"30\",\"placeholder\":\"请输入\"},model:{value:(_vm.formData.channelName),callback:function ($$v) {_vm.$set(_vm.formData, \"channelName\", $$v)},expression:\"formData.channelName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"一级渠道\",\"required\":\"\",\"prop\":\"primaryChannel\"}},[_c('Input',{attrs:{\"maxlength\":\"30\",\"placeholder\":\"请输入\"},model:{value:(_vm.formData.primaryChannel),callback:function ($$v) {_vm.$set(_vm.formData, \"primaryChannel\", $$v)},expression:\"formData.primaryChannel\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"二级渠道\",\"prop\":\"secondaryChannel\"}},[_c('Input',{attrs:{\"maxlength\":\"30\",\"placeholder\":\"请输入\"},model:{value:(_vm.formData.secondaryChannel),callback:function ($$v) {_vm.$set(_vm.formData, \"secondaryChannel\", $$v)},expression:\"formData.secondaryChannel\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{staticStyle:{\"margin-left\":\"100px\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channel-table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channel-table.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"channel-table\">\n\n    <Table\n      v-if=\"!isDisplaySelection\"\n      class=\"channel-table-content\"\n      border\n      :loading=\"tableLoading\"\n      :columns=\"channelTableColumns\"\n      :data=\"channelTableData\"\n    ></Table>\n    <Table\n      v-else\n      class=\"channel-table-content\"\n      border\n      @on-selection-change=\"onSelectItem\"\n      :loading=\"tableLoading\"\n      :columns=\"channelTableIsSelectColumns\"\n      :data=\"channelTableData\"\n    ></Table>\n    <Row type=\"flex\" justify=\"end\">\n      <Page :total=\"totalCount\" :page-size-opts=\"[10,20,40]\" show-sizer show-total @on-change=\"onChangePage\" @on-page-size-change=\"onPageSizeChange\"/>\n    </Row>\n    <Modal v-model=\"showDownloadModal\" title=\"下载小程序码\" :footer-hide=\"true\">\n      <h3>一级渠道：{{primaryChannel}}</h3>\n      <h3>二级渠道：{{secondaryChannel}}</h3>\n      <div style=\"border-bottom: 1px solid #e9e9e9;padding-bottom:6px;margin-bottom:6px;margin-top:16px;\">\n        <Checkbox\n          :indeterminate=\"indeterminate\"\n          :value=\"checkAll\"\n          @click.prevent.native=\"handleCheckAll\">全选</Checkbox>\n      </div>\n      <CheckboxGroup v-model=\"checkAllGroupQRCode\" @on-change=\"checkAllGroupChange\">\n        <div class=\"qrcode-item\" v-for=\"(item,index) in appletList\" :key=\"index\">\n          <Checkbox :label=\"item.evaluationName\" >\n            <p class=\"qrcode-name\">{{item.evaluationName}}</p>\n            <img style=\"width:60px;height:60px;\" :src=\"item.qrCode\" />\n          </Checkbox>\n        </div>\n      </CheckboxGroup>\n      <Row type=\"flex\" justify=\"end\">\n        <Button @click=\"handleCannelDownload\">取消</Button>\n        <Button class=\"donwload-btn\" type=\"primary\" @click=\"handleDownloadQRCode\">下载</Button>\n      </Row>\n    </Modal>\n    <Modal v-model=\"showEditModal\" title=\"编辑渠道\" :footer-hide=\"true\">\n      <NewChannel v-if=\"showEditModal\" :prevFormData=\"prevFormData\" :isEdit=\"true\" @cancel=\"showEditModal = false\" @success=\"editSuccess\"/>\n    </Modal>\n  </div>\n</template>\n<script>\nimport NewChannel from './new-channel.vue'\nimport { getStrLength } from '@/utils/utils'\nimport {\n  getChannelList,\n  getChannelInfo,\n  downloadChannelFile,\n  getDownloadQrCode\n} from '@/api/bd'\nexport default {\n  components: {\n    NewChannel\n  },\n  props: {\n    isDisplaySelection: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      prevFormData: {},\n      showEditModal: false,\n      appletList: [],\n      secondaryChannel: '',\n      primaryChannel: '',\n      checkAllGroupQRCode: [],\n      indeterminate: true,\n      checkAll: false,\n      showDownloadModal: false,\n      tableLoading: false,\n      checkAllGroupQRCodeList: [],\n      channelTableData: [],\n      pageNo: 1,\n      pageSize: 10,\n      totalCount: 0,\n      channelTableIsSelectColumns: [\n        {\n          type: 'selection',\n          width: 60,\n          align: 'center'\n        },\n        {\n          title: '渠道ID',\n          align: 'center',\n          key: 'channelID'\n        },\n        {\n          title: '渠道名称',\n          align: 'center',\n          key: 'channelName',\n          render: (h, params) => {\n            return h('span', {}, getStrLength(params.row.channelName, 10, true))\n          }\n        },\n        {\n          title: '一级渠道',\n          align: 'center',\n          key: 'primaryChannel',\n          render: (h, params) => {\n            return h('span', {}, getStrLength(params.row.primaryChannel, 15, true))\n          }\n        },\n        {\n          title: '二级渠道',\n          align: 'center',\n          key: 'secondaryChannel',\n          render: (h, params) => {\n            return h('span', {}, getStrLength(params.row.secondaryChannel, 15, true))\n          }\n        },\n        {\n          title: '创建人',\n          align: 'center',\n          minWidth: 120,\n          key: 'teacherName',\n          render: (h, params) => {\n            return h('span', `${params.row.teacherName}（${params.row.workCode}）`)\n          }\n        },\n        {\n          title: '创建时间',\n          align: 'center',\n          key: 'createTime'\n        }\n      ],\n      channelTableColumns: [\n        {\n          title: '渠道ID',\n          align: 'center',\n          key: 'channelID'\n        },\n        {\n          title: '渠道名称',\n          align: 'center',\n          key: 'channelName',\n          render: (h, params) => {\n            return h('span', {}, getStrLength(params.row.channelName, 10, true))\n          }\n        },\n        {\n          title: '一级渠道',\n          align: 'center',\n          key: 'primaryChannel',\n          render: (h, params) => {\n            return h('span', {}, getStrLength(params.row.primaryChannel, 15, true))\n          }\n        },\n        {\n          title: '二级渠道',\n          align: 'center',\n          key: 'secondaryChannel',\n          render: (h, params) => {\n            return h('span', {}, getStrLength(params.row.secondaryChannel, 15, true))\n          }\n        },\n        {\n          title: '创建人',\n          align: 'center',\n          minWidth: 120,\n          key: 'teacherName',\n          render: (h, params) => {\n            return h('span', `${params.row.teacherName}（${params.row.workCode}）`)\n          }\n        },\n        {\n          title: '创建时间',\n          align: 'center',\n          key: 'createTime'\n        },\n        {\n          title: '操作',\n          align: 'center',\n          key: 'action',\n          fixed: 'right',\n          width: 120,\n          render: (h, params) => {\n            return h('div', [\n              h(\n                'span',\n                {\n                  style: {\n                    display: (this.crmUserInfo.crmRoleId === 9 && params.row.isDefault !== 1) || (this.userInfo.empNo === params.row.workCode && params.row.isDefault !== 1) ? 'block' : 'none',\n                    cursor: 'pointer',\n                    color: '#3385FF'\n                  },\n                  on: {\n                    click: () => {\n                      this.handleEditChannel(params.row.channelID)\n                    }\n                  }\n                },\n                '编辑'\n              ),\n              h(\n                'span',\n                {\n                  style: {\n                    cursor: 'pointer',\n                    color: '#3385FF',\n                    marginLeft: '8px'\n                  },\n                  on: {\n                    click: () => {\n                      this.downloadMiniCode(params.row.channelID)\n                    }\n                  }\n                },\n                '下载小程序码'\n              )\n            ])\n          }\n        }\n      ]\n    }\n  },\n  computed: {\n    userInfo () {\n      return this.$store.state.user.userInfo\n    },\n    crmUserInfo () {\n      return this.$store.state.roleRelativeData.userInfo\n    }\n  },\n  mounted () {\n    this.fetchChannelList()\n  },\n  methods: {\n    handleCheckAll () {\n      if (this.indeterminate) {\n        this.checkAll = false\n      } else {\n        this.checkAll = !this.checkAll\n      }\n      this.indeterminate = false\n      if (this.checkAll) {\n        this.checkAllGroupQRCode = this.checkAllGroupQRCodeList\n      } else {\n        this.checkAllGroupQRCode = []\n      }\n    },\n    checkAllGroupChange () {\n      console.log(this.checkAllGroupQRCode)\n    },\n    fetchChannelList (data) {\n      this.tableLoading = true\n      const reqParams = {\n        channelName: (data && data.channelName) || '',\n        channelID: (data && data.channelID) || '',\n        channelType: (data && data.channelType) || '',\n        primaryChannel: (data && data.primaryChannel) || '',\n        secondaryChannel: (data && data.secondaryChannel) || '',\n        creator: (data && data.creator) || '',\n        pageNo: this.pageNo,\n        pageSize: this.pageSize,\n        filterBound: this.isDisplaySelection ? 1 : 0\n      }\n      getChannelList(reqParams).then(res => {\n        this.tableLoading = false\n        this.channelTableData = res.channelList || []\n        this.totalCount = res.totalCount\n      }).catch(err => {\n        this.tableLoading = false\n        this.$Message.error({\n          content: '获取渠道列表失败：' + err.message\n        })\n      })\n    },\n    onChangePage (page) {\n      this.pageNo = page\n      this.fetchChannelList()\n    },\n    handleCannelDownload () {\n      this.showDownloadModal = false\n      this.checkAllGroupQRCode = []\n    },\n    handleEditChannel (channelID) {\n      const reqParams = {\n        channelID\n      }\n      getChannelInfo(reqParams).then(res => {\n        this.prevFormData = res\n        this.prevFormData.channelType = res.channelType.toString()\n        this.showEditModal = true\n      }).catch(err => {\n        this.$Message.error({\n          content: '获取渠道列表失败：' + err.message\n        })\n      })\n    },\n    editSuccess () {\n      this.showEditModal = false\n      this.fetchChannelList()\n    },\n    onPageSizeChange (pageSize) {\n      this.pageSize = pageSize\n      this.fetchChannelList()\n    },\n    onSelectItem (item) {\n      this.$emit('onSelectItem', item)\n    },\n    handleDownloadQRCode () {\n      let checkItem = []\n      this.appletList.forEach(item => {\n        if (this.checkAllGroupQRCode.indexOf(item.evaluationName) !== -1) {\n          checkItem.push({\n            evaluationName: item.evaluationName,\n            qrCode: item.qrCode\n          })\n        }\n      })\n      const reqParams = {\n        primaryChannel: this.primaryChannel,\n        secondaryChannel: this.secondaryChannel,\n        appletList: checkItem\n      }\n      downloadChannelFile(reqParams).then(res => {\n        const link = document.createElement('a')\n        let blob = new Blob([res.data], { type: res.data.type })\n        let url = URL.createObjectURL(blob)\n        link.href = url\n        link.download = this.primaryChannel + '-' + this.secondaryChannel + '.zip'\n        setTimeout(function () {\n          link.click()\n        }, 66)\n      }).catch(err => {\n        this.$Message.error({\n          content: '下载二维码失败：' + err.message\n        })\n      })\n    },\n    downloadMiniCode (channelID) {\n      this.showDownloadModal = true\n      this.fetchDownloadQRCodedetails(channelID)\n    },\n    fetchDownloadQRCodedetails (channelID) {\n      const reqParams = {\n        channelID\n      }\n      getDownloadQrCode(reqParams).then(res => {\n        this.primaryChannel = res.primaryChannel || ''\n        this.secondaryChannel = res.secondaryChannel || ''\n        this.appletList = res.appletList || []\n        this.checkAllGroupQRCodeList = this.appletList.map(item => {\n          return item.evaluationName\n        })\n        this.checkAllGroupQRCode = this.checkAllGroupQRCodeList\n        this.checkAll = true\n        this.indeterminate = false\n      }).catch(err => {\n        this.$Message.error({\n          content: '获取二维码详情失败：' + err.message\n        })\n      })\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.channel-table{\n  .channel-table-content{\n    margin-bottom: 16px;\n  }\n}\n\n</style>\n<style lang=\"less\">\n.ivu-checkbox-group{\n    .qrcode-item{\n      .ivu-checkbox-group-item{\n        display: flex !important;\n        margin-bottom: 16px;\n      .qrcode-name{\n        margin-left: 8px;\n        margin-right: 16px;\n      }\n    }\n  }\n}\n.ivu-row{\n  .donwload-btn{\n    margin-left: 16px;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./channel-table.vue?vue&type=template&id=44536e84&scoped=true&\"\nimport script from \"./channel-table.vue?vue&type=script&lang=js&\"\nexport * from \"./channel-table.vue?vue&type=script&lang=js&\"\nimport style0 from \"./channel-table.vue?vue&type=style&index=0&id=44536e84&lang=less&scoped=true&\"\nimport style1 from \"./channel-table.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44536e84\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"channel-table\"},[(!_vm.isDisplaySelection)?_c('Table',{staticClass:\"channel-table-content\",attrs:{\"border\":\"\",\"loading\":_vm.tableLoading,\"columns\":_vm.channelTableColumns,\"data\":_vm.channelTableData}}):_c('Table',{staticClass:\"channel-table-content\",attrs:{\"border\":\"\",\"loading\":_vm.tableLoading,\"columns\":_vm.channelTableIsSelectColumns,\"data\":_vm.channelTableData},on:{\"on-selection-change\":_vm.onSelectItem}}),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('Page',{attrs:{\"total\":_vm.totalCount,\"page-size-opts\":[10,20,40],\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.onChangePage,\"on-page-size-change\":_vm.onPageSizeChange}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"下载小程序码\",\"footer-hide\":true},model:{value:(_vm.showDownloadModal),callback:function ($$v) {_vm.showDownloadModal=$$v},expression:\"showDownloadModal\"}},[_c('h3',[_vm._v(\"一级渠道：\"+_vm._s(_vm.primaryChannel))]),_vm._v(\" \"),_c('h3',[_vm._v(\"二级渠道：\"+_vm._s(_vm.secondaryChannel))]),_vm._v(\" \"),_c('div',{staticStyle:{\"border-bottom\":\"1px solid #e9e9e9\",\"padding-bottom\":\"6px\",\"margin-bottom\":\"6px\",\"margin-top\":\"16px\"}},[_c('Checkbox',{attrs:{\"indeterminate\":_vm.indeterminate,\"value\":_vm.checkAll},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleCheckAll($event)}}},[_vm._v(\"全选\")])],1),_vm._v(\" \"),_c('CheckboxGroup',{on:{\"on-change\":_vm.checkAllGroupChange},model:{value:(_vm.checkAllGroupQRCode),callback:function ($$v) {_vm.checkAllGroupQRCode=$$v},expression:\"checkAllGroupQRCode\"}},_vm._l((_vm.appletList),function(item,index){return _c('div',{key:index,staticClass:\"qrcode-item\"},[_c('Checkbox',{attrs:{\"label\":item.evaluationName}},[_c('p',{staticClass:\"qrcode-name\"},[_vm._v(_vm._s(item.evaluationName))]),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"60px\",\"height\":\"60px\"},attrs:{\"src\":item.qrCode}})])],1)}),0),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('Button',{on:{\"click\":_vm.handleCannelDownload}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{staticClass:\"donwload-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDownloadQRCode}},[_vm._v(\"下载\")])],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"编辑渠道\",\"footer-hide\":true},model:{value:(_vm.showEditModal),callback:function ($$v) {_vm.showEditModal=$$v},expression:\"showEditModal\"}},[(_vm.showEditModal)?_c('NewChannel',{attrs:{\"prevFormData\":_vm.prevFormData,\"isEdit\":true},on:{\"cancel\":function($event){_vm.showEditModal = false},\"success\":_vm.editSuccess}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./component.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./component.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"layout\">\n      <Form class=\"form-container\" :model=\"formData\" :label-width=\"64\" inline>\n        <FormItem label=\"渠道名称\">\n          <Input v-model=\"formData.channelName\" placeholder=\"请输入\" style=\"width: 150px;\" />\n        </FormItem>\n        <FormItem label=\"渠道id\">\n            <Input v-model=\"formData.channelID\" placeholder=\"请输入\"></Input>\n        </FormItem>\n        <FormItem label=\"渠道类型\" style=\"width: 180px;\">\n          <Select v-model=\"formData.channelType\" placeholder=\"请输入\">\n            <Option :value=\"0\">全部</Option>\n            <Option :value=\"item.keyInt\" v-for=\"item in channelTypeList\" :key=\"item.keyInt\">{{ item.value }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"一级渠道\">\n          <Input v-model=\"formData.primaryChannel\" placeholder=\"请输入\" style=\"width: 150px;\" />\n        </FormItem>\n        <FormItem label=\"二级渠道\">\n          <Input v-model=\"formData.secondaryChannel\" placeholder=\"请输入\" style=\"width: 150px;\" />\n        </FormItem>\n        <FormItem label=\"创建人\">\n          <Input v-model=\"formData.creator\" placeholder=\"请输入\" style=\"width: 150px;\" />\n        </FormItem>\n        <div class=\"place\"></div>\n        <div class=\"btns\">\n          <Button v-if=\"!isSelect\" type=\"primary\" style=\"margin-right: 8px;\" @click=\"showModal = true\">新增渠道</Button>\n          <Button type=\"primary\" style=\"margin-right: 8px;\" @click=\"handleSearch\">查 询</Button>\n          <Button @click=\"handleReset\">重 置</Button>\n        </div>\n      </Form>\n      <!-- Table -->\n      <div class=\"table-container\">\n        <ChannelTable ref=\"channelTable\" :isDisplaySelection=\"isSelect\" @onSelectItem=\"onSelectItem\"></ChannelTable>\n      </div>\n      <Modal v-model=\"showModal\" title=\"新增渠道\" :footer-hide=\"true\">\n        <NewChannel v-if=\"showModal\" @cancel=\"showModal = false\" @success=\"handleSearch\" />\n      </Modal>\n    </div>\n</template>\n\n<script>\nimport NewChannel from './new-channel.vue'\nimport ChannelTable from './channel-table.vue'\nimport { getChannelType } from '@/api/bd'\n\nexport default {\n  name: 'introductionComponent',\n  props: {\n    // 是否用于选择\n    isSelect: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {\n    NewChannel,\n    ChannelTable\n  },\n  data () {\n    return {\n      formData: {\n        channelName: null,\n        channelID: null,\n        channelType: 0,\n        primaryChannel: null,\n        secondaryChannel: null,\n        creator: null\n      },\n      creatorList: [],\n      showModal: false,\n      channelTypeList: []\n    }\n  },\n  created () {\n    this.init()\n  },\n  methods: {\n    init () {\n      this._getChannelType()\n    },\n    // 获取渠道类型\n    async _getChannelType () {\n      try {\n        const data = await getChannelType()\n        this.channelTypeList = data.channelTypes\n      } catch (error) {\n        this.$Message.error({\n          content: `获取渠道类型失败: ${error.message}`,\n          duration: 5\n        })\n      }\n    },\n    // 查询\n    handleSearch () {\n      this.showModal = false\n      this.$refs.channelTable.fetchChannelList(this.formData)\n    },\n    // 列表选中渠道\n    onSelectItem (item) {\n      this.$emit('onSelectItem', item)\n    },\n    // 重置\n    handleReset () {\n      const data = this.$options.data()\n      this.formData = data.formData\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.layout {\n  padding: 24px;\n  line-height: 1.5;\n  width: 100%;\n  .table-container {\n    margin-top: 16px;\n  }\n}\n\n.form-container {\n  padding: 20px 16px 0 16px;\n  background: #fff;\n  border-radius: 4px;\n  position: relative;\n  .place {\n    width: 234px;\n    height: 34px;\n    display: inline-block;\n    margin-bottom: 24px;\n  }\n  .btns {\n    position: absolute;\n    right: 16px;\n    bottom: 31px;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./component.vue?vue&type=template&id=eb520d60&scoped=true&\"\nimport script from \"./component.vue?vue&type=script&lang=js&\"\nexport * from \"./component.vue?vue&type=script&lang=js&\"\nimport style0 from \"./component.vue?vue&type=style&index=0&id=eb520d60&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eb520d60\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-channel.vue?vue&type=style&index=0&id=420daf76&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-channel.vue?vue&type=style&index=0&id=420daf76&lang=less&scoped=true&\""],"sourceRoot":""}