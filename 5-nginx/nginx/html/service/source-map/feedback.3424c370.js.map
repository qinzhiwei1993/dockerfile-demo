{"version":3,"sources":["webpack:///./src/view/feedback/list.vue?9f29","webpack:///./src/view/feedback/handle.vue?4d8c","webpack:///src/view/feedback/handle.vue","webpack:///./src/view/feedback/list.vue?d260","webpack:///src/view/feedback/list.vue","webpack:///./src/view/feedback/handle.vue","webpack:///./src/view/feedback/handle.vue?1b06","webpack:///./src/view/feedback/list.vue","webpack:///./src/view/feedback/list.vue?f28f"],"names":["data","formData","status","productTime","codeTime","remark","ruleValidate","props","feedbackId","String","handleStatus","Number","methods","save","this","$refs","formValidate","validate","valid","cityCode","content","duration","err","message","mounted","$nextTick","components","HandleModal","_vm","_h","$createElement","_c","_self","ref","attrs","model","value","callback","$$v","$set","expression","_v","staticStyle","minRows","maxRows","on","tableLoading","startDateVal","startCreateDateDay","endDateVal","endCreateDateDay","type","totalCount","pageNo","pageSize","tableData","cols","types","optimize","bug","new","statusList","1","2","3","imgUrls","viewPicModal","handleModal","logsModal","logs","searchTableData","getTableData","$Message","warning","changePage","index","pageSizeChange","size","DateMinus","validateDate","which","setStartTime","val","setEndTime","viewPics","imgUrl","split","url","viewPicModalClose","viewer","destroy","handle","id","handleSuccess","showLogs","staticClass","_l","key","_s","scopedSlots","_u","fn","row","length","$event","modifierName","class","slot","_e","item","createDate","empName"],"mappings":"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","file":"js/feedback.3424c370.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',{staticStyle:{\"padding\":\"10px\"}},[_c('Form',{staticClass:\"ivu-common-shadow\",staticStyle:{\"background\":\"#fff\",\"padding-top\":\"24px\"},attrs:{\"label-position\":\"right\",\"label-width\":90,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"反馈时间\"}},[_c('DatePicker',{staticClass:\"e-input\",attrs:{\"editable\":false,\"type\":\"date\",\"format\":\"yyyy-MM-dd\"},on:{\"on-change\":_vm.setStartTime},model:{value:(_vm.formData.startDateVal),callback:function ($$v) {_vm.$set(_vm.formData, \"startDateVal\", $$v)},expression:\"formData.startDateVal\"}}),_vm._v(\"   至  \\n      \"),_c('DatePicker',{staticClass:\"e-input\",attrs:{\"editable\":false,\"type\":\"date\",\"format\":\"yyyy-MM-dd\"},on:{\"on-change\":_vm.setEndTime},model:{value:(_vm.formData.endDateVal),callback:function ($$v) {_vm.$set(_vm.formData, \"endDateVal\", $$v)},expression:\"formData.endDateVal\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"问题类型\"}},[_c('Select',{staticClass:\"e-input\",attrs:{\"clearable\":\"\"},model:{value:(_vm.formData.type),callback:function ($$v) {_vm.$set(_vm.formData, \"type\", $$v)},expression:\"formData.type\"}},_vm._l((_vm.types),function(val,key){return _c('Option',{key:key,attrs:{\"value\":key}},[_vm._v(_vm._s(val))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"处理结果\"}},[_c('Select',{staticClass:\"e-input\",attrs:{\"clearable\":\"\"},model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},_vm._l((_vm.statusList),function(val,key){return _c('Option',{key:key,attrs:{\"value\":key}},[_vm._v(_vm._s(val))])}),1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"loading\":_vm.tableLoading},on:{\"click\":_vm.searchTableData}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('div',[_c('Table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"10px\",\"overflow\":\"auto\"},attrs:{\"columns\":_vm.cols,\"data\":_vm.tableData,\"loading\":_vm.tableLoading},scopedSlots:_vm._u([{key:\"type\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(_vm.types[row.type])+\"\\n      \")]}},{key:\"content\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.content && row.content.length > 90)?_c('div',{staticClass:\"ivu-table-cell\"},[_c('Tooltip',{attrs:{\"max-width\":\"300\",\"content\":row.content,\"placement\":\"right\",\"transfer\":\"\"}},[_c('span',{staticStyle:{\"display\":\"-webkit-box\",\"-webkit-box-orient\":\"vertical\",\"-webkit-line-clamp\":\"3\",\"overflow\":\"hidden\",\"text-align\":\"left\"}},[_vm._v(_vm._s(row.content))])])],1):_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(\"\\n          \"+_vm._s(row.content)+\"\\n        \")])]}},{key:\"imgUrl\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.imgUrl)?_c('a',{on:{\"click\":function($event){return _vm.viewPics(row.imgUrl)}}},[_vm._v(\"查看图片\")]):_c('span',[_vm._v(\"--\")])]}},{key:\"status\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(_vm.statusList[row.status])+\"\\n      \")]}},{key:\"modifierName\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.modifierName || '--')+\"\\n      \")]}},{key:\"productTime\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.productTime !== null ? row.productTime + ' 小时': '--')+\"\\n      \")]}},{key:\"codeTime\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.codeTime !== null ? row.codeTime + ' 小时': '--')+\"\\n      \")]}},{key:\"operation\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a',{on:{\"click\":function($event){return _vm.handle(row.id, row.status)}}},[_vm._v(\"处理\")])]}},{key:\"logs\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a',{on:{\"click\":function($event){return _vm.showLogs(row.id)}}},[_vm._v(\"查看记录\")])]}}])})],1),_vm._v(\" \"),_c('div',{class:{ 'page-fix': _vm.tableData.length < 3 },staticStyle:{\"margin\":\"10px\"}},[_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.formData.totalCount,\"page-size\":_vm.formData.pageSize,\"current\":_vm.formData.pageNo,\"show-elevator\":\"\",\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"update:current\":function($event){return _vm.$set(_vm.formData, \"pageNo\", $event)},\"on-page-size-change\":_vm.pageSizeChange,\"on-change\":_vm.changePage}})],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"查看图片\",\"closable\":false,\"width\":\"935px\"},model:{value:(_vm.viewPicModal),callback:function ($$v) {_vm.viewPicModal=$$v},expression:\"viewPicModal\"}},[_c('div',{attrs:{\"id\":\"galley\"}},[_c('ul',{staticClass:\"pictures\"},_vm._l((_vm.imgUrls),function(url){return _c('li',{key:url},[_c('img',{attrs:{\"data-original\":url,\"src\":url + '?x-oss-process=image/resize,m_fixed,h_300,w_300'}})])}),0)]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":_vm.viewPicModalClose}},[_vm._v(\"关闭\")])],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"反馈处理\",\"footer-hide\":true},model:{value:(_vm.handleModal),callback:function ($$v) {_vm.handleModal=$$v},expression:\"handleModal\"}},[(_vm.handleModal)?_c('HandleModal',{attrs:{\"feedback-id\":_vm.feedbackId,\"handle-status\":_vm.handleStatus},on:{\"success\":_vm.handleSuccess}}):_vm._e()],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"查看记录\",\"footer-hide\":true,\"width\":\"900px\"},on:{\"close\":function($event){_vm.logsModal = false}},model:{value:(_vm.logsModal),callback:function ($$v) {_vm.logsModal=$$v},expression:\"logsModal\"}},[_c('div',{staticClass:\"ivu-table ivu-table-default ivu-table-stripe ivu-table-wrapper\"},[_c('div',{staticClass:\"ivu-table-body\"},[_c('table',{staticStyle:{\"width\":\"100%\"},attrs:{\"cellspacing\":\"0\",\"cellpadding\":\"0\",\"border\":\"0\"}},[_c('thead',[_c('tr',{staticClass:\"ivu-table-row\"},[_c('th',{staticClass:\"ivu-table-column-center\",attrs:{\"width\":\"70px\"}},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(\"处理时间\")])]),_vm._v(\" \"),_c('th',{staticClass:\"ivu-table-column-center\"},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(\"处理结果\")])]),_vm._v(\" \"),_c('th',{staticClass:\"ivu-table-column-center\"},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(\"处理人\")])]),_vm._v(\" \"),_c('th',{staticClass:\"ivu-table-column-center\"},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(\"产品耗时\")])]),_vm._v(\" \"),_c('th',{staticClass:\"ivu-table-column-center\"},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(\"研发耗时\")])]),_vm._v(\" \"),_c('th',{staticClass:\"ivu-table-column-center\",attrs:{\"width\":\"370px\"}},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(\"备注\")])])])]),_vm._v(\" \"),_c('tbody',{staticClass:\"ivu-table-tbody\"},[_vm._l((_vm.logs),function(item){return (_vm.logs && _vm.logs.length > 0)?_c('tr',{key:item.id,staticClass:\"ivu-table-row\"},[_c('td',{staticClass:\"ivu-table-column-center\"},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(_vm._s(item.createDate))])]),_vm._v(\" \"),_c('td',{staticClass:\"ivu-table-column-center\"},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(_vm._s(_vm.statusList[item.status]))])]),_vm._v(\" \"),_c('td',{staticClass:\"ivu-table-column-center\"},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(_vm._s(item.empName))])]),_vm._v(\" \"),_c('td',{staticClass:\"ivu-table-column-center\"},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(_vm._s(item.productTime !== null ? item.productTime + ' 小时': ''))])]),_vm._v(\" \"),_c('td',{staticClass:\"ivu-table-column-center\"},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(_vm._s(item.codeTime !== null ? item.codeTime + ' 小时': ''))])]),_vm._v(\" \"),_c('td',{staticClass:\"ivu-table-column-center\"},[(item.remark.length > 90)?_c('div',{staticClass:\"ivu-table-cell\"},[_c('Tooltip',{attrs:{\"max-width\":\"300\",\"content\":item.remark,\"placement\":\"right\",\"transfer\":\"\"}},[_c('span',{staticStyle:{\"display\":\"-webkit-box\",\"-webkit-box-orient\":\"vertical\",\"-webkit-line-clamp\":\"3\",\"overflow\":\"hidden\",\"text-align\":\"left\"}},[_vm._v(_vm._s(item.remark))])])],1):_c('div',{staticClass:\"ivu-table-cell\",staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"\\n                \"+_vm._s(item.remark)+\"\\n              \")])])]):_vm._e()}),_vm._v(\" \"),(!_vm.logs || !_vm.logs.length)?_c('tr',[_c('td',{staticClass:\"ivu-table-column-center\",attrs:{\"colspan\":\"6\"}},[_c('div',{staticClass:\"ivu-table-cell\"},[_vm._v(\"暂无处理记录\")])])]):_vm._e()],2)])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./handle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./handle.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <Form ref=\"formValidate\" :model=\"formData\" :rules=\"ruleValidate\" :label-width=\"100\">\n      <FormItem label=\"处理结果：\" required prop=\"status\">\n        <RadioGroup v-model=\"formData.status\">\n          <Radio label=\"1\">未处理</Radio>\n          <Radio label=\"2\">处理中</Radio>\n          <Radio label=\"3\">处理完成</Radio>\n        </RadioGroup>\n      </FormItem>\n      <FormItem label=\"产品耗时：\" required prop=\"productTime\">\n        <InputNumber :min=\"0\" :max=\"1000\" style=\"width: 100px\" v-model=\"formData.productTime\"></InputNumber> 小时\n      </FormItem>\n      <FormItem label=\"研发耗时：\" required prop=\"codeTime\">\n        <InputNumber :min=\"0\" :max=\"1000\" style=\"width: 100px\" v-model=\"formData.codeTime\"></InputNumber> 小时\n      </FormItem>\n      <FormItem label=\"原因备注：\" required prop=\"remark\">\n        <Input  v-model=\"formData.remark\" :maxlength=\"200\" type=\"textarea\" :autosize=\"{minRows: 3,maxRows: 5}\" placeholder=\"请输入原因备注\"></Input>\n      </FormItem>\n    </Form>\n    <div style=\"text-align: center\">\n      <Button @click=\"save\" type=\"primary\">提交</Button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getCityList } from '@/api/bd'\nimport { handleFeedback } from '@/api/feedback'\nexport default {\n  data () {\n    return {\n      formData: {\n        status: '',\n        productTime: null,\n        codeTime: null,\n        remark: ''\n      },\n      ruleValidate: {\n        status: [\n          { required: true, message: '处理结果不能为空', trigger: 'blur' }\n        ],\n        productTime: [\n          { required: true, message: '产品耗时不能为空', trigger: 'blur', type: 'number' }\n        ],\n        codeTime: [\n          { required: true, message: '研发耗时不能为空', trigger: 'blur', type: 'number' }\n        ],\n        remark: [\n          { required: true, message: '原因备注不能为空', trigger: 'blur' },\n          { message: '原因备注最多可输入200字', max: 200, trigger: 'blur', type: 'string' }\n        ]\n      }\n\n    }\n  },\n  props: {\n    feedbackId: String,\n    handleStatus: [String, Number]\n  },\n  methods: {\n    save () {\n      this.$refs.formValidate.validate(valid => {\n        if (valid) {\n          handleFeedback(Object.assign({}, this.formData, {\n            cityCode: this.cityList[0].id,\n            feedbackId: this.feedbackId\n          })).then(data => {\n            this.$Message.success({\n              content: '提交成功',\n              duration: 5\n            })\n            this.$emit('success')\n          }).catch(err => {\n            this.$Message.error({\n              content: '提交失败：' + err.message,\n              duration: 5\n            })\n          })\n        } else {\n          this.$Message.warning({\n            content: '请填写完整后提交',\n            duration: 5\n          })\n        }\n      })\n    }\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this.formData.status = String(this.handleStatus)\n    })\n    getCityList().then(data => {\n      this.cityList = data\n    }).catch(err => {\n      this.$Message.error({\n        content: '获取城市失败：' + err.message,\n        duration: 5\n      })\n    })\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","<!--反馈列表-->\n<template>\n  <Layout style=\"padding: 10px\">\n    <Form label-position=\"right\" :label-width=\"90\" inline style=\"background:#fff;padding-top: 24px\" class=\"ivu-common-shadow\">\n      <FormItem label=\"反馈时间\">\n        <DatePicker class=\"e-input\" :editable=\"false\"  v-model=\"formData.startDateVal\" @on-change=\"setStartTime\" type=\"date\" format=\"yyyy-MM-dd\"></DatePicker> &nbsp;&nbsp;至&nbsp;&nbsp;\n        <DatePicker class=\"e-input\" :editable=\"false\" v-model=\"formData.endDateVal\" @on-change=\"setEndTime\" type=\"date\" format=\"yyyy-MM-dd\"></DatePicker>\n      </FormItem>\n      <FormItem label=\"问题类型\">\n        <Select class=\"e-input\" v-model=\"formData.type\" clearable>\n          <Option v-for=\"(val,key) in types\" :value=\"key\" :key=\"key\">{{val}}</Option>\n        </Select>\n      </FormItem>\n      <FormItem label=\"处理结果\">\n        <Select class=\"e-input\" v-model=\"formData.status\" clearable>\n          <Option v-for=\"(val,key) in statusList\" :value=\"key\" :key=\"key\">{{val}}</Option>\n        </Select>\n      </FormItem>\n      <FormItem>\n        <Button type=\"primary\" style=\"margin-right: 10px;\" @click=\"searchTableData\" :loading=\"tableLoading\">查询</Button>\n      </FormItem>\n    </Form>\n    <div>\n      <Table style=\"width: 100%;margin-top: 10px; overflow: auto\" :columns=\"cols\" :data=\"tableData\" :loading=\"tableLoading\">\n        <template slot-scope=\"{ row }\"  slot=\"type\">\n          {{ types[row.type] }}\n        </template>\n        <template slot-scope=\"{ row }\"  slot=\"content\">\n          <div v-if=\"row.content && row.content.length > 90\" class=\"ivu-table-cell\">\n            <Tooltip max-width=\"300\" :content=\"row.content\" placement=\"right\" transfer>\n              <span style=\"display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp: 3;overflow: hidden;text-align: left\">{{row.content}}</span>\n            </Tooltip>\n          </div>\n          <div v-else class=\"ivu-table-cell\">\n            {{row.content}}\n          </div>\n          <!--<div v-if=\"row.content && row.content.length > 30\">-->\n            <!--<Tooltip max-width=\"300\" :content=\"row.content\" placement=\"right\" transfer>-->\n              <!--{{row.content.substring(0, 30) + '...'}}-->\n            <!--</Tooltip>-->\n          <!--</div>-->\n          <!--<div v-else>{{row.content}}</div>-->\n        </template>\n        <template slot-scope=\"{ row }\"  slot=\"imgUrl\">\n          <a v-if=\"row.imgUrl\" @click=\"viewPics(row.imgUrl)\">查看图片</a>\n          <span v-else>--</span>\n        </template>\n        <template slot-scope=\"{ row }\"  slot=\"status\">\n          {{ statusList[row.status]}}\n        </template>\n        <template slot-scope=\"{ row }\"  slot=\"modifierName\">\n          {{ row.modifierName || '--' }}\n        </template>\n        <template slot-scope=\"{ row }\"  slot=\"productTime\">\n          {{ row.productTime !== null ? row.productTime + ' 小时': '--' }}\n        </template>\n        <template slot-scope=\"{ row }\"  slot=\"codeTime\">\n          {{ row.codeTime !== null ? row.codeTime + ' 小时': '--' }}\n        </template>\n        <template slot-scope=\"{ row }\"  slot=\"operation\">\n          <a @click=\"handle(row.id, row.status)\">处理</a>\n        </template>\n        <template slot-scope=\"{ row }\"  slot=\"logs\">\n          <a @click=\"showLogs(row.id)\">查看记录</a>\n        </template>\n      </Table>\n    </div>\n    <div style=\"margin: 10px;\" :class=\"{ 'page-fix': tableData.length < 3 }\">\n      <div style=\"text-align: right;\">\n        <Page\n          :total=\"formData.totalCount\"\n          :page-size=\"formData.pageSize\"\n          :current.sync=\"formData.pageNo\"\n          show-elevator\n          show-sizer\n          show-total\n          @on-page-size-change=\"pageSizeChange\"\n          @on-change=\"changePage\"></Page>\n      </div>\n    </div>\n    <Modal title=\"查看图片\" v-model=\"viewPicModal\" :closable=\"false\" width=\"935px\">\n      <div id=\"galley\">\n        <ul class=\"pictures\">\n          <li v-for=\"url in imgUrls\" :key=\"url\"><img :data-original=\"url\" :src=\"url + '?x-oss-process=image/resize,m_fixed,h_300,w_300'\"></li>\n        </ul>\n      </div>\n      <div slot=\"footer\">\n        <Button @click=\"viewPicModalClose\">关闭</Button>\n      </div>\n    </Modal>\n    <Modal title=\"反馈处理\" v-model=\"handleModal\" :footer-hide=\"true\">\n      <HandleModal v-if=\"handleModal\" :feedback-id=\"feedbackId\" :handle-status=\"handleStatus\" @success=\"handleSuccess\"></HandleModal>\n    </Modal>\n    <Modal title=\"查看记录\" v-model=\"logsModal\" @close=\"logsModal = false\" :footer-hide=\"true\" width=\"900px\">\n      <div class=\"ivu-table ivu-table-default ivu-table-stripe ivu-table-wrapper\">\n        <!--<Spin size=\"large\" fix v-if=\"isLoading1\"></Spin>-->\n        <div class=\"ivu-table-body\">\n          <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"width: 100%\">\n            <thead>\n            <tr class=\"ivu-table-row\">\n              <th class=\"ivu-table-column-center\" width=\"70px\"><div class=\"ivu-table-cell\">处理时间</div></th>\n              <th class=\"ivu-table-column-center\"><div class=\"ivu-table-cell\">处理结果</div></th>\n              <th class=\"ivu-table-column-center\"><div class=\"ivu-table-cell\">处理人</div></th>\n              <th class=\"ivu-table-column-center\"><div class=\"ivu-table-cell\">产品耗时</div></th>\n              <th class=\"ivu-table-column-center\"><div class=\"ivu-table-cell\">研发耗时</div></th>\n              <th class=\"ivu-table-column-center\" width=\"370px\"><div class=\"ivu-table-cell\">备注</div></th>\n            </tr>\n            </thead>\n            <tbody class=\"ivu-table-tbody\">\n            <tr v-if=\"logs && logs.length > 0\" class=\"ivu-table-row\" v-for=\"item in logs\" :key=\"item.id\">\n              <td class=\"ivu-table-column-center\"><div class=\"ivu-table-cell\">{{item.createDate}}</div></td>\n              <td class=\"ivu-table-column-center\"><div class=\"ivu-table-cell\">{{statusList[item.status]}}</div></td>\n              <td class=\"ivu-table-column-center\"><div class=\"ivu-table-cell\">{{item.empName}}</div></td>\n              <td class=\"ivu-table-column-center\"><div class=\"ivu-table-cell\">{{ item.productTime !== null ? item.productTime + ' 小时': '' }}</div></td>\n              <td class=\"ivu-table-column-center\"><div class=\"ivu-table-cell\">{{ item.codeTime !== null ? item.codeTime + ' 小时': '' }}</div></td>\n              <td class=\"ivu-table-column-center\">\n                <div v-if=\"item.remark.length > 90\" class=\"ivu-table-cell\">\n                  <Tooltip max-width=\"300\" :content=\"item.remark\" placement=\"right\" transfer>\n                    <span style=\"display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp: 3;overflow: hidden;text-align: left\">{{item.remark}}</span>\n                  </Tooltip>\n                </div>\n                <div v-else class=\"ivu-table-cell\" style=\"text-align: left\">\n                  {{item.remark}}\n                </div>\n              </td>\n            </tr>\n            <tr v-if=\"!logs || !logs.length\">\n              <td class=\"ivu-table-column-center\" colspan=\"6\"><div class=\"ivu-table-cell\">暂无处理记录</div></td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </Modal>\n  </Layout>\n</template>\n\n<script>\nimport { queryFeedbackPage, queryLogListByFeedbackId } from '@/api/feedback'\nimport Viewer from 'viewerjs'\nimport 'viewerjs/dist/viewer.css'\nimport HandleModal from './handle'\nexport default {\n  components: {\n    HandleModal\n  },\n  data () {\n    return {\n      tableLoading: false,\n      formData: {\n        startDateVal: '',\n        startCreateDateDay: '',\n        endDateVal: '',\n        endCreateDateDay: '',\n        type: '',\n        status: '',\n        totalCount: 0,\n        pageNo: 1,\n        pageSize: 10\n      },\n      tableData: [],\n      cols: [\n        { title: '反馈日期', align: 'center', key: 'createDate', width: 70 },\n        { title: '反馈人', align: 'center', key: 'empName' },\n        { title: '员工编号', align: 'center', key: 'empNo' },\n        { title: '部门', align: 'center', key: 'serviceCenterName' },\n        { title: '角色', align: 'center', key: 'roleName' },\n        { title: '问题类型', align: 'center', slot: 'type' },\n        { title: '反馈内容', align: 'left', slot: 'content', width: 370 },\n        { title: '图片', align: 'center', slot: 'imgUrl' },\n        { title: '处理结果', align: 'center', slot: 'status' },\n        { title: '处理人', align: 'center', slot: 'modifierName' },\n        { title: '产品耗时', align: 'center', slot: 'productTime' },\n        { title: '研发耗时', align: 'center', slot: 'codeTime' },\n        { title: '操作', align: 'center', slot: 'operation' },\n        { title: '处理记录', align: 'center', slot: 'logs' }\n      ],\n      types: {\n        optimize: '现有功能优化',\n        bug: '系统BUG/问题',\n        new: '新增功能建议'\n      },\n      statusList: {\n        // 0: '新提交',\n        1: '未处理',\n        2: '处理中',\n        3: '处理完成'\n      },\n      imgUrls: [],\n      viewPicModal: false,\n      feedbackId: '',\n      handleStatus: '',\n      handleModal: false,\n      logsModal: false,\n      logs: []\n    }\n  },\n  methods: {\n    /**\n     * \"查询\"\n     */\n    searchTableData () {\n      this.formData.pageNo = 1\n      this.getTableData()\n    },\n    /**\n     * 获取明细\n     */\n    getTableData () {\n      if (this.formData.startDateVal && this.formData.endDateVal && this.formData.startDateVal > this.formData.endDateVal) {\n        this.$Message.warning({\n          content: '开始时间不能晚于结束时间',\n          duration: 3\n        })\n        return\n      }\n      this.tableLoading = true\n      queryFeedbackPage(this.formData).then(data => {\n        this.formData.totalCount = data.totalCount\n        this.tableData = data.records\n      }).catch(err => {\n        this.tableData = []\n        this.formData.totalCount = 0\n        this.$Message.error({\n          content: '获取反馈列表失败：' + err.message\n        })\n      }).finally(() => {\n        this.tableLoading = false\n      })\n    },\n    /**\n     * 明细翻页\n     * @param index\n     */\n    changePage (index) {\n      this.formData.pageNo = index\n      this.getTableData()\n    },\n    /**\n     * 变更pageSize\n     * @param size\n     */\n    pageSizeChange (size) {\n      this.formData.pageNo = 1\n      this.formData.pageSize = size\n      this.getTableData()\n    },\n    /**\n     * 计算两个时间之间的天数\n     * @param date1 小日期\n     * @param date2 大日期\n     * @returns {number}\n     * @constructor\n     */\n    DateMinus (date1, date2) {\n      const start = new Date(date1)\n      const end = new Date(date2)\n      const days = end.getTime() - start.getTime()\n      const day = parseInt(days / (1000 * 60 * 60 * 24))\n      return day\n    },\n    validateDate (which) {\n      if (this.formData.startCreateDateDay && this.formData.endCreateDateDay) {\n        if (this.DateMinus(this.formData.startCreateDateDay, this.formData.endCreateDateDay) > 90) {\n          this.$Message.warning({ content: '时间跨度不能大于90天，请重新选择', duration: 5 })\n          if (which === 0) {\n            this.formData.startDateVal = ''\n            this.formData.startCreateDateDay = ''\n          } else if (which === 1) {\n            this.formData.endDateVal = ''\n            this.formData.endCreateDateDay = ''\n          } else {\n\n          }\n        }\n      }\n    },\n    setStartTime (val) {\n      this.formData.startCreateDateDay = val\n      // this.validateDate(0)\n    },\n    setEndTime (val) {\n      this.formData.endCreateDateDay = val\n      // this.validateDate(1)\n    },\n    viewPics (imgUrl) {\n      this.imgUrls = imgUrl.split(',')\n      this.$nextTick(() => {\n        this.viewer = new Viewer(document.getElementById('galley'), {\n          url: 'data-original'\n        })\n        this.viewPicModal = true\n      })\n    },\n    viewPicModalClose () {\n      this.viewPicModal = false\n      this.viewer.destroy()\n    },\n    handle (id, status) {\n      this.feedbackId = id\n      this.handleStatus = status === 0 ? '' : status\n      this.handleModal = true\n    },\n    handleSuccess () {\n      this.handleModal = false\n      this.getTableData()\n    },\n    showLogs (id) {\n      queryLogListByFeedbackId({\n        feedbackId: id\n      }).then(data => {\n        this.logs = data\n        this.logsModal = true\n      }).catch(err => {\n        this.logs = []\n        this.$Message.error({\n          content: '获取处理记录失败：' + err.message,\n          duration: 5\n        })\n      })\n    }\n  },\n  mounted () {\n    // this.getTableData()\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  .e-input {\n    width: 160px;\n  }\n  .pictures {\n    list-style: none;\n    margin: 0;\n    max-width: 30rem;\n    padding: 0;\n    display: flex;\n  }\n  .pictures > li {\n    border: 1px solid transparent;\n    margin: 0 -1px -1px 0;\n  }\n  .pictures > li > img {\n    cursor: zoom-in;\n    width: 300px;\n    height: 300px;\n  }\n  .viewer-download {\n    color: #fff;\n    font-family: FontAwesome, serif;\n    font-size: 0.75rem;\n    line-height: 1.5rem;\n    text-align: center;\n  }\n  .viewer-download::before {\n    content: \"\\f019\";\n  }\n</style>\n","import { render, staticRenderFns } from \"./handle.vue?vue&type=template&id=a0a1f4a4&scoped=true&\"\nimport script from \"./handle.vue?vue&type=script&lang=js&\"\nexport * from \"./handle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a0a1f4a4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formData,\"rules\":_vm.ruleValidate,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"处理结果：\",\"required\":\"\",\"prop\":\"status\"}},[_c('RadioGroup',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('Radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"未处理\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"处理中\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"3\"}},[_vm._v(\"处理完成\")])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"产品耗时：\",\"required\":\"\",\"prop\":\"productTime\"}},[_c('InputNumber',{staticStyle:{\"width\":\"100px\"},attrs:{\"min\":0,\"max\":1000},model:{value:(_vm.formData.productTime),callback:function ($$v) {_vm.$set(_vm.formData, \"productTime\", $$v)},expression:\"formData.productTime\"}}),_vm._v(\" 小时\\n    \")],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"研发耗时：\",\"required\":\"\",\"prop\":\"codeTime\"}},[_c('InputNumber',{staticStyle:{\"width\":\"100px\"},attrs:{\"min\":0,\"max\":1000},model:{value:(_vm.formData.codeTime),callback:function ($$v) {_vm.$set(_vm.formData, \"codeTime\", $$v)},expression:\"formData.codeTime\"}}),_vm._v(\" 小时\\n    \")],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"原因备注：\",\"required\":\"\",\"prop\":\"remark\"}},[_c('Input',{attrs:{\"maxlength\":200,\"type\":\"textarea\",\"autosize\":{minRows: 3,maxRows: 5},\"placeholder\":\"请输入原因备注\"},model:{value:(_vm.formData.remark),callback:function ($$v) {_vm.$set(_vm.formData, \"remark\", $$v)},expression:\"formData.remark\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"提交\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=ddbfd406&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=ddbfd406&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ddbfd406\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=ddbfd406&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=ddbfd406&scoped=true&lang=less&\""],"sourceRoot":""}