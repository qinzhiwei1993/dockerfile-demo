(window.webpackJsonp=window.webpackJsonp||[]).push([["finance"],{"0290":function(t,e,a){"use strict";var s=a("1fc3");a.n(s).a},"054c":function(t,e,a){},"0a03":function(t,e,a){"use strict";var s={name:"TalIframe",props:{contentSrc:{type:String}},data:function(){return{}},created:function(){},mounted:function(){}},n=(a("965b"),a("2877")),i=Object(n.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{attrs:{id:"iframe"}},[this.contentSrc?e("iframe",{ref:"ifr",attrs:{src:this.contentSrc,frameborder:"0",width:"100%"}}):e("div")])}),[],!1,null,"738ccff8",null);e.a=i.exports},1915:function(t,e,a){"use strict";var s=a("c7ad");a.n(s).a},"1ca4":function(t,e,a){"use strict";a("f751"),a("ac6a");var s=a("fa7d"),n={name:"reimbursement",props:["dialogShow","detailList"],data:function(){return{day:"",tableTotalData:[]}},watch:{"detailList.queryDate":function(){this.day=Object(s.c)(this.detailList.queryDate)},dialogShow:function(){this.dialogShow&&this.getTotalData()}},filters:{filterType:function(t){return 1===t?"营业款":2===t?"临时备用金":3===t?"长期备用金":4===t?"其他收支":"--"}},mounted:function(){this.getTotalData()},methods:{cancel:function(t){!1===t&&this.$emit("changeDialog",!1)},getTotalData:function(){var t={operateName:"合计"},e={operateName:"款项所属服务中心合计"},a={operateName:"合计差额"};if(this.detailList.operateLists&&this.detailList.operateLists.length>0){for(var s in this.detailList.operateLists.forEach((function(a,s){if("999999"===a.operateId)e=Object.assign(a,e);else for(var n in a)t[n]=t[n]?t[n]:0,"operateName"!==n&&(t[n]+=a[n])})),t)"operateName"!==s&&(a[s]=(e[s]?e[s]:0)-(t[s]?t[s]:0));e.receiptAmount=a.receiptAmount=null,e.posReceiptReceiveAmount=a.posReceiptReceiveAmount=null,e.posReceiptRefundAmount=a.posReceiptRefundAmount=null,this.tableTotalData=[t,e,a]}}}},i=(a("8121"),a("2877")),o=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{value:t.dialogShow,title:"服务中心营业款报账明细",width:"70%"},on:{"on-visible-change":t.cancel}},[t.dialogShow?a("div",{staticClass:"centerview"},[a("div",{staticClass:"reimbursement-title"},[a("span",[t._v("服务中心："+t._s(t.detailList.serviceCenterName))]),t._v(" "),a("span",[t._v("报账人："+t._s(t.detailList.createrName))]),t._v(" "),a("span",[t._v(t._s(t.detailList.queryDate)+" "+t._s(t.day))])]),t._v(" "),a("div",{staticClass:"panel-container ivu-common-shadow"},[a("div",{staticClass:"reim-title"},[a("span"),t._v(" "),a("p",[t._v("营业款")]),t._v(" "),a("span",{staticClass:"reim-span"})]),t._v(" "),a("div",{staticClass:"combined comb-top"},[a("table",[a("tr",[a("th",{staticClass:"table-th",attrs:{rowspan:"2"}},[t._v("收营员")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"2"}},[t._v("营业款收费")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"2"}},[t._v("营业款退费")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"2"}},[t._v("今日现金结账")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"4"}},[t._v("今日脱机POS结账")])]),t._v(" "),a("tr",[a("td",{staticClass:"table-th"},[t._v("现金")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("脱机POS")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("现金")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("脱机POS")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("营业额现金小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("实际现金小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("营业收款小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("实际收款小票合计")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("营业退款小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("实际退款小票合计")])]),t._v(" "),t._l(t.detailList.operateLists,(function(e,s){return"999999"!==e.operateId?a("tr",{key:s,class:"reim-bg"+s},[a("td",[t._v(t._s(e.operateName))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.receiveAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiveAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.refundAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posRefundAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.cashSummaryOfTurnover)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.receiptAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posSummaryOfBusinessReceipts)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiptReceiveAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posSummaryOfBusinessRefund)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiptRefundAmount)))])]):t._e()})),t._v(" "),t._l(t.tableTotalData,(function(e,s){return a("tr",{key:s+10},[a("td",[t._v(t._s(e.operateName))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.receiveAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.receiveAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posReceiveAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiveAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.refundAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.refundAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posRefundAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.posRefundAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.cashSummaryOfTurnover}},[t._v(t._s(t._f("formatMoneyFilter")(e.cashSummaryOfTurnover)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.receiptAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.receiptAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posSummaryOfBusinessReceipts}},[t._v(t._s(t._f("formatMoneyFilter")(e.posSummaryOfBusinessReceipts)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posReceiptReceiveAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiptReceiveAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posSummaryOfBusinessRefund}},[t._v(t._s(t._f("formatMoneyFilter")(e.posSummaryOfBusinessRefund)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posReceiptRefundAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiptRefundAmount)))])])})),t._v(" "),t.detailList.operateLists&&0===t.detailList.operateLists.length?a("tr",[a("td",{attrs:{colspan:"11"}},[t._v("暂无数据")])]):t._e()],2)]),t._v(" "),a("div",{staticClass:"reim-title reim-nth"},[a("span"),t._v(" "),a("p",[t._v("营业款银行存现")]),t._v(" "),a("span",{staticClass:"reim-span"})]),t._v(" "),t.detailList?a("ul",{staticClass:"existential"},[t._l(t.detailList.servcenterDepositList,(function(e,s){return a("li",{key:s},[a("div",{staticClass:"exis-box"},[a("span",[t._v("存款类型：")]),t._v(" "),a("p",[t._v(t._s(t._f("filterType")(e.depositType)))])]),t._v(" "),2===e.depositType||3===e.depositType?a("div",{staticClass:"exis-box exit-long-box"},[a("span",{staticStyle:{width:"110px"}},[t._v("费控系统单据编号：")]),t._v(" "),a("p",[t._v(t._s(e.costControlSystemNo))])]):t._e(),t._v(" "),a("div",{staticClass:"exis-box"},[a("span",[t._v("存款码：")]),t._v(" "),a("p",[t._v(t._s(e.depositCode||"--"))])]),t._v(" "),a("div",{staticClass:"exis-box"},[a("span",[t._v("用途：")]),t._v(" "),a("p",[t._v(t._s(e.purpose||"--"))])]),t._v(" "),a("div",{staticClass:"exis-box"},[a("span",[t._v("存款金额：")]),t._v(" "),a("p",[t._v(t._s(t._f("formatMoneyFilter")(e.depositAmount)))])])])})),t._v(" "),t.detailList.servcenterDepositList&&0===t.detailList.servcenterDepositList.length?a("p",{staticStyle:{"text-align":"center"}},[t._v("暂无数据")]):t._e()],2):t._e(),t._v(" "),a("div",{staticClass:"reim-title reim-nth"},[a("span"),t._v(" "),a("p",[t._v("其他收支")]),t._v(" "),a("span",{staticClass:"reim-span"})]),t._v(" "),a("table",[a("tr",[a("th",{staticClass:"table-th",attrs:{colspan:"4"}},[t._v("其他收入")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"4"}},[t._v("其他支出")]),t._v(" "),a("th",{staticClass:"table-th"},[t._v("收支合计")])]),t._v(" "),a("tr",[a("td",{staticClass:"table-th"},[t._v("书籍费")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("考试报名费")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("其他")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("小计")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("书籍费")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("考试报名费")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("其他")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("小计")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("净额")])]),t._v(" "),t.detailList?a("tr",[a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.servcenterOtherBudget.otherIncomeBookAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.servcenterOtherBudget.otherIncomeRegistFeeAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.servcenterOtherBudget.otherIncomeAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.servcenterOtherBudget.otherIncomeSumAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.servcenterOtherBudget.otherExpenseBookAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.servcenterOtherBudget.otherExpenseRegistFeeAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.servcenterOtherBudget.otherExpenseAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.servcenterOtherBudget.otherExpenseSumAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.servcenterOtherBudget.difference)))])]):t._e()]),t._v(" "),a("div",{staticClass:"reim-title reim-nth"},[a("span"),t._v(" "),a("p",[t._v("营业款、备用金合计")]),t._v(" "),a("span",{staticClass:"reim-span"})]),t._v(" "),a("div",{staticClass:"combined"},[a("table",[a("tr",[a("th",{staticClass:"table-th",attrs:{colspan:"5"}},[t._v("营业款")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"4"}},[t._v("临时备用金")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"4"}},[t._v("长期备用金")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{rowspan:"2"}},[t._v("跨校区调整金额"),a("span",{staticStyle:{color:"red"}},[t._v("（调入为正、调出为负）")])]),t._v(" "),a("th",{staticClass:"table-th",attrs:{rowspan:"2"}},[t._v("今日现金账面余额总计")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{rowspan:"2"}},[t._v("昨日金保险柜实际现金余额--营业款、备用")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{rowspan:"2"}},[t._v("今日金保险柜实际现金余额--营业款、备用")]),t._v(" "),a("th",{staticClass:"rw100 table-th",attrs:{rowspan:"2"}},[t._v("长短款")])]),t._v(" "),a("tr",[a("th",{staticClass:"rw100 table-th"},[t._v("期初余额")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("本日营业收款")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("本日营业退款")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("营业款存现")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("期末余额")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("期初余额")]),t._v(" "),a("th",{staticClass:"table-th"},[t._v("临时备用金借款")]),t._v(" "),a("th",{staticClass:"table-th"},[t._v("临时备用金还款")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("期末余额")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("期初余额")]),t._v(" "),a("th",{staticClass:"table-th"},[t._v("长期备用金借款")]),t._v(" "),a("th",{staticClass:"table-th"},[t._v("长期备用金还款")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("期末余额")])]),t._v(" "),a("tr",{staticClass:"qt-input"},[a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.businessPaymentBeginBalance)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.businessReceiptTodayAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.businessRefundTodayAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.cashStoreTodyAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.businessPaymentEndBalance)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.tempReserveBeginBalance)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.tempReserveLoanTodayAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.tempReserveRepaymentTodayAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.tempReserveEndBalance)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.quotaReserveBeginBalance)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.quotaReserveLoanTodayAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.quotaReserveRepaymentTodayAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.quotaReserveEndBalance)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.crossCampusAdjustAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.cashBalanceTodyAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.cashSafeYesterdayAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.cashActualBalanceTodyAmount)))]),t._v(" "),a("td",{staticStyle:{color:"red"}},[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.lengthShortnessAmount)))])])])]),t._v(" "),a("div",{staticClass:"reim-title reim-nth"},[a("span"),t._v(" "),a("p",[t._v("其他收支合计")]),t._v(" "),a("span",{staticClass:"reim-span"})]),t._v(" "),a("table",[a("tr",[a("th",{staticClass:"table-th",attrs:{rowspan:"2"}},[t._v("昨日保险柜实际现金余额--其他收支")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"4"}},[t._v("书籍费、考试报名费等其他收支净额")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{rowspan:"2"}},[t._v("今日保险柜实际现金余额--其他收支")])]),t._v(" "),a("tr",[a("th",{staticClass:"table-th"},[t._v("期初余额")]),t._v(" "),a("th",{staticClass:"table-th"},[t._v("收支净额")]),t._v(" "),a("th",{staticClass:"table-th"},[t._v("存现")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("期末余额")])]),t._v(" "),a("tr",{staticClass:"qt-input"},[a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.otherIncomeAndExpenditureYesterday)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.otherBeginBalance)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.otherNetIncomeAndExpenditure)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.otherDepositCash)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.otherEndBalance)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.detailList.serventerDayAudit.otherIncomeAndExpenditureToday)))])])]),t._v(" "),a("div",{staticClass:"note preview-note"},[a("span",[t._v("备注：")]),t._v(" "),a("p",[t._v(t._s(t.detailList.remarks||"--"))])])])]):t._e(),t._v(" "),a("div",{staticClass:"fin-footer",attrs:{slot:"footer"},slot:"footer"})])}),[],!1,null,"46d76f58",null);e.a=o.exports},"1fc3":function(t,e,a){},"2bd9":function(t,e,a){"use strict";a.r(e);var s=a("66df");var n={name:"Map",data:function(){return{dataSrc:""}},components:{TalIframe:a("0a03").a},mounted:function(){var t,e=this;(t={cityCode:"010"},s.a.request({url:"cashier/genManage",method:"post",data:t})).then((function(t){e.dataSrc=t.url})).catch((function(t){e.$Message.error({content:t.message,duration:5})}))}},i=a("2877"),o=Object(i.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{attrs:{id:"map"}},[e("TalIframe",{attrs:{"content-src":this.dataSrc}})],1)}),[],!1,null,null,null);e.default=o.exports},"36e7":function(t,e,a){"use strict";var s=a("b881");a.n(s).a},"39a1":function(t,e,a){"use strict";var s=a("cbd1");a.n(s).a},"39dc":function(t,e,a){"use strict";a.r(e);a("8e6e"),a("cadf"),a("456d"),a("ac6a");var s=a("75fc"),n=a("bd86"),i=(a("c5f6"),a("2f62")),o=a("e47f"),r=a("09c2"),c=a("fa7d");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"personalcheck",components:{promptdialog:o.a},data:function(){return{onOff:!1,cashMoney:"",cityCode:"",posMoney:"",userMessage:{empId:"",empName:"",nowDate:"",serviceCenterId:"",serviceCenterName:""},day:"",list:[],remark:"",dialogShow:!1,dialogText:{content:"个人报账金额存在差异，请确认",button:"确认结账",cancelBtn:"返回"},supplementShow:!1,supplementText:{content:"此服务中心存在漏报账，请及时补报！",button:"去补报"},sureShow:!1,sureShowText:{content:"",button:"确认结账",cancelBtn:"返回"},tableData:{money:{businessCode:"",platformCode:"",receiveAmount:0,refundAmount:0,type:"",remainAmount:0},pos:{businessCode:"",platformCode:"",receiveAmount:0,refundAmount:0,type:"",remainAmount:0}},spinShow:!1,ifPay:!1,isSuccess:!1,tableList:[],totalData:{receiveAmountAdd:0,posReceiveAmountAdd:0,refundAmountAdd:0,posRefundAmountAdd:0,confirmAmountAdd:0,receiptAmountAdd:0,posReceiptReceiveAmountAdd:0,posReceiptRefundAmountAdd:0},flagOne:!1,flagTwo:!1,flagThree:!1,times:0,statisticsTime:null}},beforeMount:function(){this.auditMissingReportTip()},mounted:function(){var t=this;this.$haveAuthority("roleRelativeData","/SPLAT/auditFinance/switchQueryBtn")&&Object(r.m)({cityCode:this.userInfo.cityCode,empNo:this.userInfo.empNo,empName:this.userInfo.empName}).then((function(e){t.onOff=0===Number(e)})).catch((function(e){t.$Message.error({content:"服务中心报账开关查询错误:"+e.message,duration:5})}))},computed:{userInfo:function(){return this.$store.state.roleRelativeData.userInfo}},methods:l(l({},Object(i.d)(["closeTag"])),{},{handleBeforeChange:function(){var t=this;return new Promise((function(e){t.$Modal.confirm({title:"切换确认",content:"您确认要".concat(t.onOff?"关闭":"打开").concat(t.userMessage.serviceCenterName,"服务中心的报账开关吗？"),onOk:function(){Object(r.f)({cityCode:t.userInfo.cityCode,empNo:t.userInfo.empNo,auditOpen:t.onOff?1:0}).then((function(){t.$Message.success("操作成功"),e()})).catch((function(e){t.$Message.error({content:"操作失败:"+e.message,duration:5})}))}})}))},getMoney:function(){this.ifPay=!0,this.totalData.confirmAmountAdd===this.totalData.receiptAmountAdd&&this.totalData.posReceiveAmountAdd===this.totalData.posReceiptReceiveAmountAdd&&this.totalData.posRefundAmountAdd===this.totalData.posReceiptRefundAmountAdd?(this.flagOne=!1,this.flagTwo=!1,this.flagThree=!1,this.setSureDialog()):(this.flagOne=this.totalData.confirmAmountAdd!==this.totalData.receiptAmountAdd,this.flagTwo=this.totalData.posReceiveAmountAdd!==this.totalData.posReceiptReceiveAmountAdd,this.flagThree=this.totalData.posRefundAmountAdd!==this.totalData.posReceiptRefundAmountAdd,this.dialogShow=!0)},setSureDialog:function(){this.sureShowText.content="个人结账每日有3次机会，今日剩余"+this.times+"次",this.sureShowText.button=0===this.times?"我知道了":"确认结账",this.sureShowText.cancelBtn=0===this.times?"":"返回",this.sureShow=!0},changeDialog:function(t){!0===t?this.setSureDialog():(this.dialogShow=!1,this.isSuccess||(this.ifPay=!1))},sureDialog:function(t){if(!0===t){if("我知道了"===this.sureShowText.button)return this.sureShow=!1,this.dialogShow=!1,void(this.isSuccess||(this.ifPay=!1));this.auditCommitDailyPerson()}else this.sureShow=!1,this.dialogShow||this.isSuccess||(this.ifPay=!1)},supplementDialog:function(t){!0===t?alert("补报"):this.supplementShow=!1},serviceCenterEmpInfo:function(){var t=this;Object(r.l)({cityCode:this.cityCode}).then((function(e){t.userMessage=e,t.day=Object(c.c)(t.userMessage.nowDate),t.auditPersonalDaily()})).catch((function(e){t.$Message.warning({content:"获取服务中心用户信息失败:"+e.message,duration:5})}))},auditCommitDailyPerson:function(){var t=this,e=[],a=this.tableList[this.tableList.length-1],n=Object(s.a)(this.tableList);this.tableList.length>1&&(e=n.splice(0,this.tableList.length-1)),Object(r.a)({cityCode:this.cityCode,queryDate:this.userMessage.nowDate,records:e,current:a,remark:this.remark,statisticsTime:this.statisticsTime}).then((function(e){t.dialogShow=!1,t.sureShow=!1,t.isSuccess=!0,t.$Message.success({content:"结账成功",duration:5})})).catch((function(e){t.dialogShow=!1,t.sureShow=!1,t.$Message.warning({content:"结账失败:"+e.message,duration:5}),t.ifPay=!1}))},auditPersonalDaily:function(){var t=this;Object(r.g)({cityCode:this.cityCode,queryDate:this.userMessage.nowDate}).then((function(e){t.tableList=e.records||[],t.tableList.push(e.current),t.getTotal();var a=t.tableList;a&&a.length>0&&a.forEach((function(t,e){a[e].receiptAmount=a[e].receiptAmount.toFixed(2),a[e].posReceiptReceiveAmount=a[e].posReceiptReceiveAmount.toFixed(2),a[e].posReceiptRefundAmount=a[e].posReceiptRefundAmount.toFixed(2)})),t.times=e.leftCount,t.statisticsTime=e.statisticsTime,t.spinShow=!1})).catch((function(e){t.spinShow=!1,t.$Message.warning({content:"个人收退费结账查询失败:"+e.message,duration:5})}))},auditMissingReportTip:function(){var t=this;this.spinShow=!0;var e=this.$store.state.app.missReportInterval;e&&clearInterval(e),Object(r.d)({isAudit:1}).then((function(e){t.cityCode=e,t.serviceCenterEmpInfo()})).catch((function(e){t.spinShow=!1,"40004"===e.code?t.$Modal.info({title:"提示",content:e.message,okText:"去补报",onOk:function(){var e=t.$route;t.closeTag(e),t.$router.push({name:"prescribeddaily"})}}):t.$Modal.info({title:"提示",content:e.message,okText:"确定",onOk:function(){var e=t.$route;t.closeTag(e)}})}))},getTotal:function(){var t=this;this.tableList.length>0&&this.tableList.forEach((function(e,a){t.totalData.receiveAmountAdd+=e.receiveAmount,t.totalData.posReceiveAmountAdd+=e.posReceiveAmount,t.totalData.refundAmountAdd+=e.refundAmount,t.totalData.confirmAmountAdd+=e.confirmAmount,t.totalData.posRefundAmountAdd+=e.posRefundAmount,t.totalData.posReceiptReceiveAmountAdd+=e.posReceiptReceiveAmount,t.totalData.posReceiptRefundAmountAdd+=e.posReceiptRefundAmount,t.totalData.receiptAmountAdd+=e.receiptAmount}))},changeData:function(t){var e=this;this.totalData[t+"Add"]=0,this.tableList.forEach((function(a,s){e.totalData[t+"Add"]+=Number(a[t])}))}})},v=(a("0290"),a("2877")),m=Object(v.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"personalcheck"},[t.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),t._v(" "),a("div",{staticClass:"personalcheck-title ivu-common-shadow"},[a("div",[a("span",[t._v("服务中心："+t._s(t.userMessage.serviceCenterName))]),t._v(" "),a("span",[t._v("报账人："+t._s(t.userMessage.empName))]),t._v(" "),a("span",[t._v(t._s(t.userMessage.nowDate)+" "+t._s(t.day))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$haveAuthority("roleRelativeData","/SPLAT/auditFinance/switchQueryBtn"),expression:"$haveAuthority('roleRelativeData', '/SPLAT/auditFinance/switchQueryBtn')"}]},[a("i-switch",{attrs:{"before-change":t.handleBeforeChange},model:{value:t.onOff,callback:function(e){t.onOff=e},expression:"onOff"}}),t._v(" "),a("Tooltip",{attrs:{maxWidth:200,transfer:"",placement:"left"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n          报账开关控制服务中心是否需要报账。打开开关，则服务中心正常营业需要报账；关闭开关，服务中心不需要操作报账，也无法进行收退费。\n        ")]),t._v(" "),a("Icon",{attrs:{type:"ios-help-circle-outline",size:16}})],1)],1)]),t._v(" "),a("div",{staticClass:"panel-container ivu-common-shadow"},[a("table",[t._m(0),t._v(" "),t._m(1),t._v(" "),t._l(t.tableList,(function(e,s){return a("tr",{key:s,staticClass:"person-bottom",class:"person-bg"+s},[a("td",[t._v(t._s(s===t.tableList.length-1?"当前结账":"结账"+(s+1)))]),t._v(" "),a("td",[t._v(t._s(e.createTime))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.receiveAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiveAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.refundAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posRefundAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.confirmAmount)))]),t._v(" "),a("td",{staticClass:"prem-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.receiptAmount,expression:"item.receiptAmount"}],attrs:{type:"number",placeholder:"0.00",step:"0.01"},domProps:{value:e.receiptAmount},on:{keyup:function(t){e.receiptAmount=e.receiptAmount.toString().match(/^(\-|\+)?\d+(\.\d{0,2})?/)?e.receiptAmount.toString().match(/^(\-|\+)?\d+(\.\d{0,2})?/)[0]:""},input:[function(a){a.target.composing||t.$set(e,"receiptAmount",a.target.value)},function(e){return t.changeData("receiptAmount")}],mousewheel:function(t){t.preventDefault()}}})]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiveAmount)))]),t._v(" "),a("td",{staticClass:"prem-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.posReceiptReceiveAmount,expression:"item.posReceiptReceiveAmount"}],attrs:{type:"number",placeholder:"0.00",step:"0.01"},domProps:{value:e.posReceiptReceiveAmount},on:{keyup:function(t){e.posReceiptReceiveAmount=e.posReceiptReceiveAmount.match(/^(\-|\+)?\d+(\.\d{0,2})?/)?e.posReceiptReceiveAmount.match(/^(\-|\+)?\d+(\.\d{0,2})?/)[0]:""},input:[function(a){a.target.composing||t.$set(e,"posReceiptReceiveAmount",a.target.value)},function(e){return t.changeData("posReceiptReceiveAmount")}],mousewheel:function(t){t.preventDefault()}}})]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posRefundAmount)))]),t._v(" "),a("td",{staticClass:"prem-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.posReceiptRefundAmount,expression:"item.posReceiptRefundAmount"}],attrs:{type:"number",placeholder:"0.00",step:"0.01"},domProps:{value:e.posReceiptRefundAmount},on:{keyup:function(t){e.posReceiptRefundAmount=e.posReceiptRefundAmount.match(/^(\-|\+)?\d+(\.\d{0,2})?/)?e.posReceiptRefundAmount.match(/^(\-|\+)?\d+(\.\d{0,2})?/)[0]:""},input:[function(a){a.target.composing||t.$set(e,"posReceiptRefundAmount",a.target.value)},function(e){return t.changeData("posReceiptRefundAmount")}],mousewheel:function(t){t.preventDefault()}}})])])})),t._v(" "),a("tr",{staticClass:"person-bottom"},[a("td",[t._v("合计")]),t._v(" "),a("td",[t._v("--")]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.totalData.receiveAmountAdd)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.totalData.posReceiveAmountAdd)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.totalData.refundAmountAdd)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.totalData.posRefundAmountAdd)))]),t._v(" "),a("td",{class:{"color-red":t.flagOne}},[t._v(t._s(t._f("formatMoneyFilter")(t.totalData.confirmAmountAdd)))]),t._v(" "),a("td",{class:{"color-red":t.flagOne}},[t._v(t._s(t._f("formatMoneyFilter")(t.totalData.receiptAmountAdd)))]),t._v(" "),a("td",{class:{"color-red":t.flagTwo}},[t._v(t._s(t._f("formatMoneyFilter")(t.totalData.posReceiveAmountAdd)))]),t._v(" "),a("td",{class:{"color-red":t.flagTwo}},[t._v(t._s(t._f("formatMoneyFilter")(t.totalData.posReceiptReceiveAmountAdd)))]),t._v(" "),a("td",{class:{"color-red":t.flagThree}},[t._v(t._s(t._f("formatMoneyFilter")(t.totalData.posRefundAmountAdd)))]),t._v(" "),a("td",{class:{"color-red":t.flagThree}},[t._v(t._s(t._f("formatMoneyFilter")(t.totalData.posReceiptRefundAmountAdd)))])])],2),t._v(" "),a("div",{staticClass:"note"},[a("span",[t._v("备注：")]),t._v(" "),a("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},maxlength:500},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),t._v(" "),a("div",{staticClass:"invoicing"},[a("Button",{attrs:{type:"primary",disabled:t.ifPay},on:{click:t.getMoney}},[t._v("结账")])],1)]),t._v(" "),a("promptdialog",{attrs:{dialogShow:t.dialogShow,dialogText:t.dialogText},on:{changeDialog:t.changeDialog}}),t._v(" "),a("promptdialog",{attrs:{dialogShow:t.supplementShow,dialogText:t.supplementText},on:{changeDialog:t.supplementDialog}}),t._v(" "),a("promptdialog",{attrs:{dialogShow:t.sureShow,dialogText:t.sureShowText},on:{changeDialog:t.sureDialog}})],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"table-th pw80",attrs:{rowspan:"2"}},[t._v("序号")]),t._v(" "),a("th",{staticClass:"table-th  pw100",attrs:{rowspan:"2"}},[t._v("结账时间")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"2"}},[t._v("营业款收费")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"2"}},[t._v("营业款退费")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"2"}},[t._v("今日现金结账")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"4"}},[t._v("今日脱机POS结账")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"table-th  pw80"},[t._v("现金")]),t._v(" "),a("td",{staticClass:"table-th  pw80"},[t._v("脱机POS")]),t._v(" "),a("td",{staticClass:"table-th  pw80"},[t._v("现金")]),t._v(" "),a("td",{staticClass:"table-th  pw80"},[t._v("脱机POS")]),t._v(" "),a("td",{staticClass:"table-th pd6"},[t._v("营业额现金小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("实际现金小结")]),t._v(" "),a("td",{staticClass:"table-th pd6"},[t._v("营业收款小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("实际收款小票合计")]),t._v(" "),a("td",{staticClass:"table-th pd6"},[t._v("营业退款小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("实际退款小票合计")])])}],!1,null,"14005654",null);e.default=m.exports},"3e61":function(t,e,a){},6326:function(t,e,a){"use strict";a.r(e);a("8e6e"),a("cadf"),a("456d"),a("4917"),a("097d");var s=a("75fc"),n=(a("f751"),a("bd86")),i=(a("c5f6"),a("ac6a"),a("09c2")),o=a("e47f"),r=a("fa7d"),c=a("2f62");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"reimbursement",components:{promptdialog:o.a},data:function(){return{userMessage:{empId:"",empName:"",nowDate:"",serviceCenterId:"",serviceCenterName:""},list:[],remark:"",dialogShow:!1,dialogText:{content:"服务中心现金营业款报账金额存在差异，请确认！",button:"确认报账",cancelBtn:"返回"},day:"",exisList:[{depositCode:null,purpose:"",depositAmount:null,depositType:null,costControlSystemNo:null}],cityCode:null,auditDaily:{operateList:[],businessPaymentBeginBalance:0,businessReceiptTodayAmount:0,businessRefundTodayAmount:0,tempReserveBeginBalance:0,quotaReserveBeginBalance:0,cashSafeYesterdayAmount:0,otherBeginBalance:0},tableTotalData:[],servcenterOtherBudget:{otherIncomeBookAmount:null,otherIncomeRegistFeeAmount:null,otherIncomeAmount:null,otherIncomeSumAmount:0,otherExpenseBookAmount:null,otherExpenseRegistFeeAmount:null,otherExpenseAmount:null,otherExpenseSumAmount:0,difference:0},serventerDayAudit:{tempReserveLoanTodayAmount:null,cashSafeYesterdayAmount:null,quotaReserveLoanTodayAmount:null,quotaReserveRepaymentTodayAmount:0,tempReserveRepaymentTodayAmount:0,cashStoreTodyAmount:null,cashActualBalanceTodyAmount:null,crossCampusAdjustAmount:null,lengthShortnessAmount:null,cashBalanceTodyAmount:null,otherIncomeAndExpenditureYesterday:null,otherDepositCash:0,otherIncomeAndExpenditureToday:null,businessPaymentBeginBalance:null,businessReceiptTodayAmount:null,businessRefundTodayAmount:null,businessPaymentEndBalance:null,tempReserveBeginBalance:null,quotaReserveBeginBalance:null,quotaReserveEndBalance:null,otherBeginBalance:null,otherNetIncomeAndExpenditure:null,otherEndBalance:null},accountType:1,cashStoreTodyAmount:0,reimLoading:!1,depositTypeList:[{id:1,name:"营业款"},{id:2,name:"临时备用金"},{id:3,name:"长期备用金"},{id:4,name:"其他收支"}],servcenterDepositList:[]}},beforeMount:function(){this.auditMissingReportTip(),"accountType"===this.$route.query.type&&(this.accountType=2)},watch:{exisList:{handler:function(t,e){var a=0,s=0,n=0,i=0;this.exisList.forEach((function(t,e){1===t.depositType?a+=Number(t.depositAmount):2===t.depositType?s+=Number(t.depositAmount):3===t.depositType?n+=Number(t.depositAmount):4===t.depositType&&(i+=Number(t.depositAmount))})),this.cashStoreTodyAmount=a,this.serventerDayAudit.tempReserveRepaymentTodayAmount=s,this.serventerDayAudit.quotaReserveRepaymentTodayAmount=n,this.serventerDayAudit.otherDepositCash=i},deep:!0}},computed:{addUpOne:function(){return(Number(this.servcenterOtherBudget.otherIncomeBookAmount)+Number(this.servcenterOtherBudget.otherIncomeRegistFeeAmount)+Number(this.servcenterOtherBudget.otherIncomeAmount)).toFixed(2)},addUpTwo:function(){return(Number(this.servcenterOtherBudget.otherExpenseBookAmount)+Number(this.servcenterOtherBudget.otherExpenseRegistFeeAmount)+Number(this.servcenterOtherBudget.otherExpenseAmount)).toFixed(2)},addUpThree:function(){return(Number(this.servcenterOtherBudget.otherIncomeBookAmount)+Number(this.servcenterOtherBudget.otherIncomeRegistFeeAmount)+Number(this.servcenterOtherBudget.otherIncomeAmount)-(Number(this.servcenterOtherBudget.otherExpenseBookAmount)+Number(this.servcenterOtherBudget.otherExpenseRegistFeeAmount)+Number(this.servcenterOtherBudget.otherExpenseAmount))).toFixed(2)},businessPaymentEndBalance:function(){return(Number(this.auditDaily.businessPaymentBeginBalance)+Number(this.auditDaily.businessReceiptTodayAmount)-Number(this.auditDaily.businessRefundTodayAmount)-Number(this.cashStoreTodyAmount)+Number(this.serventerDayAudit.crossCampusAdjustAmount)).toFixed(2)},tempReserveEndBalance:function(){return(Number(this.auditDaily.tempReserveBeginBalance)+Number(this.serventerDayAudit.tempReserveLoanTodayAmount)-Number(this.serventerDayAudit.tempReserveRepaymentTodayAmount)).toFixed(2)},quotaReserveEndBalance:function(){return(Number(this.auditDaily.quotaReserveBeginBalance)+Number(this.serventerDayAudit.quotaReserveLoanTodayAmount)-Number(this.serventerDayAudit.quotaReserveRepaymentTodayAmount)).toFixed(2)},cashBalanceTodyAmount:function(){return(Number(this.businessPaymentEndBalance)+Number(this.tempReserveEndBalance)+Number(this.quotaReserveEndBalance)).toFixed(2)},lengthShortnessAmount:function(){return(Number(this.cashBalanceTodyAmount)-Number(this.serventerDayAudit.cashActualBalanceTodyAmount)).toFixed(2)},otherEndBalance:function(){return(Number(this.auditDaily.otherBeginBalance)+Number(this.addUpThree)-Number(this.serventerDayAudit.otherDepositCash)).toFixed(2)}},methods:l(l({},Object(c.d)(["closeTag"])),{},{getTotalData:function(){var t={operateName:"合计"},e={operateName:"款项所属服务中心合计"},a={operateName:"合计差额"};if(this.auditDaily.operateList&&this.auditDaily.operateList.length>0){for(var s in this.auditDaily.operateList.forEach((function(a,s){if("999999"===a.operateId)e=Object.assign(a,e);else for(var n in a)t[n]=t[n]?t[n]:0,"operateName"!==n&&(t[n]+=a[n])})),t)"operateName"!==s&&(a[s]=(e[s]?e[s]:0)-(t[s]?t[s]:0));e.receiptAmount=a.receiptAmount=null,e.posReceiptReceiveAmount=a.posReceiptReceiveAmount=null,e.posReceiptRefundAmount=a.posReceiptRefundAmount=null,this.tableTotalData=[t,e,a]}},getMoney:function(){this.servcenterDepositList=[];for(var t=0;t<this.exisList.length;t++){var e="",a=this.exisList[t];if(!a.depositType&&(a.depositCode||a.purpose||a.depositAmount))return void this.$Message.warning({content:"请选择存款类型！",duration:5});if((2===a.depositType||3===a.depositType)&&!a.costControlSystemNo)return void this.$Message.warning({content:"请填写费控系统单据编号！",duration:5});if(a.depositType&&!a.depositAmount)return void this.$Message.warning({content:"请填写存款金额！",duration:5});if(!a.depositCode&&!a.purpose&&a.depositAmount)return void this.$Message.warning({content:"请填写存款码或用途！",duration:5});if((a.depositCode||a.purpose)&&!a.depositAmount)return void this.$Message.warning({content:"请填写存款金额！",duration:5});for(var s in a)a[s]&&(e="has");e&&this.servcenterDepositList.push(a)}this.auditCommitDailyServiceCenter(1)},changeDialog:function(t){!0===t?this.auditCommitDailyServiceCenter():this.dialogShow=!1},addExis:function(){this.exisList.push({depositCode:null,purpose:"",depositAmount:null,depositType:null,costControlSystemNo:null})},delExis:function(t){this.exisList.splice(t,1)},serviceCenterEmpInfo:function(){var t=this;Object(i.l)({cityCode:this.cityCode}).then((function(e){t.userMessage=e,t.$route.query.time&&(t.userMessage.nowDate=t.$route.query.time),t.day=Object(r.c)(t.userMessage.nowDate),t.auditServiceCenterDaily()})).catch((function(e){t.$Message.warning({content:"获取服务中心用户信息失败1:"+e.message,duration:5})}))},auditCommitDailyServiceCenter:function(t){var e=this;if(this.servcenterOtherBudget.otherIncomeSumAmount=Number(this.addUpOne),this.servcenterOtherBudget.otherExpenseSumAmount=Number(this.addUpTwo),this.servcenterOtherBudget.difference=Number(this.addUpThree),this.serventerDayAudit.businessPaymentBeginBalance=this.auditDaily.businessPaymentBeginBalance,this.serventerDayAudit.businessReceiptTodayAmount=this.auditDaily.businessReceiptTodayAmount,this.serventerDayAudit.businessRefundTodayAmount=this.auditDaily.businessRefundTodayAmount,this.serventerDayAudit.cashStoreTodyAmount=Number(this.cashStoreTodyAmount),this.serventerDayAudit.businessPaymentEndBalance=Number(this.businessPaymentEndBalance),this.serventerDayAudit.tempReserveBeginBalance=this.auditDaily.tempReserveBeginBalance,this.serventerDayAudit.tempReserveEndBalance=Number(this.tempReserveEndBalance),this.serventerDayAudit.quotaReserveBeginBalance=this.auditDaily.quotaReserveBeginBalance,this.serventerDayAudit.quotaReserveEndBalance=Number(this.quotaReserveEndBalance),this.serventerDayAudit.cashBalanceTodyAmount=Number(this.cashBalanceTodyAmount),this.serventerDayAudit.cashSafeYesterdayAmount=this.auditDaily.cashSafeYesterdayAmount,this.serventerDayAudit.lengthShortnessAmount=Number(this.lengthShortnessAmount),this.serventerDayAudit.otherBeginBalance=this.auditDaily.otherBeginBalance,this.serventerDayAudit.otherNetIncomeAndExpenditure=Number(this.addUpThree),this.serventerDayAudit.otherEndBalance=Number(this.otherEndBalance),this.serventerDayAudit.lengthShortnessAmount&&0!==this.serventerDayAudit.lengthShortnessAmount&&t)this.dialogShow=!0;else{var a={},n={};for(var i in this.servcenterOtherBudget)a[i]=this.servcenterOtherBudget[i]||0;for(var o in this.serventerDayAudit)n[o]=this.serventerDayAudit[o]||0;var r=Object(s.a)(this.auditDaily.operateList);r.forEach((function(t,e){"999999"===t.operateId&&(r[e].receiptAmount=0,r[e].posReceiptReceiveAmount=0,r[e].posReceiptRefundAmount=0)}));var c={servcenterDepositList:this.servcenterDepositList,servcenterOtherBudget:a,serventerDayAudit:n,operateList:r};2===this.accountType?this.$Modal.confirm({title:"提示",content:"服务中心补报只有1次机会，请确认数据无误！",onOk:function(){c.checkEmp=1,e.goRecon(c)},onCancel:function(){e.dialogShow=!1}}):1===this.accountType&&(c.checkEmp=0,this.goRecon(c))}},goRecon:function(t){var e=this;Object(i.b)({queryDate:this.userMessage.nowDate,cityCode:this.cityCode,accountType:this.accountType,createrName:this.userMessage.empName,remarks:this.remark,serviceCenterName:this.userMessage.serviceCenterName,serviceCenterId:this.userMessage.serviceCenterId,operateList:t.operateList,servcenterDepositList:t.servcenterDepositList,servcenterOtherBudget:t.servcenterOtherBudget,serventerDayAudit:t.serventerDayAudit,checkEmp:t.checkEmp,statisticsTime:this.auditDaily.statisticsTime}).then((function(t){e.$Message.success({content:"报账成功",duration:5}),e.dialogShow=!1;var a=e.$route;e.closeTag(a),setTimeout((function(){e.$router.push({name:"reimbursement"})}),100)})).catch((function(a){"30005"===a.code?e.$Modal.confirm({title:"提示",content:a.message,onOk:function(){t.checkEmp=1,e.dialogShow=!1,e.goRecon(t)},onCancel:function(){e.dialogShow=!1}}):(e.$Message.warning({content:"报账失败:"+a.message,duration:5}),e.dialogShow=!1)}))},auditServiceCenterDaily:function(){var t=this;this.reimLoading=!0,Object(i.h)({queryDate:this.userMessage.nowDate,cityCode:this.cityCode}).then((function(e){t.auditDaily=e,t.serventerDayAudit.otherIncomeAndExpenditureYesterday=e.otherIncomeAndExpenditureYesterday.toFixed(2);for(var a in{businessPaymentBeginBalance:null,tempReserveBeginBalance:null,quotaReserveBeginBalance:null,otherBeginBalance:null})t.auditDaily[a]=t.auditDaily[a].toFixed(2);t.getTotalData()})).catch((function(e){t.$Message.warning({content:"获取服务中心报账信息失败:"+e.message,duration:5})})).finally((function(){t.reimLoading=!1}))},auditMissingReportTip:function(){var t=this,e=this.$store.state.app.missReportInterval;e&&clearInterval(e),Object(i.d)({isAudit:1,queryDate:this.$route.query.time}).then((function(e){t.cityCode=e,t.serviceCenterEmpInfo()})).catch((function(e){"40004"===e.code?t.$Modal.info({title:"提示",content:e.message,okText:"去补报",onOk:function(){var e=t.$route;t.closeTag(e),t.$router.push({name:"prescribeddaily"})}}):t.$Modal.info({title:"提示",content:e.message,okText:"确定",onOk:function(){var e=t.$route;t.closeTag(e)}})}))},setFloat:function(t,e){var a=t.depositAmount.match(/\d+(\.\d{0,2})?/)?t.depositAmount.match(/\d+(\.\d{0,2})?/)[0]:"";this.$set(this.exisList[e],"depositAmount",a),1===t.depositType&&Number(this.businessPaymentEndBalance)<0&&this.$Message.warning("营业款存现值超出今日营业款余额最大值，请核对后再输入！")},setLength:function(t,e){if(t.depositAmount.length>30){var a=t.depositAmount.slice(0,30);this.$set(this.exisList[e],"depositAmount",a)}},dealDataFormat:function(t,e){this[t][e]=this[t][e].match(/\d+(\.\d{0,2})?/)?this[t][e].match(/\d+(\.\d{0,2})?/)[0]:""},dealDataFormatFloat:function(t,e){this[t][e]=this[t][e].match(/^(-|\+)?\d+(\.\d{0,2})?/)?this[t][e].match(/^(-|\+)?\d+(\.\d{0,2})?/)[0]:""},changeDepositType:function(t){this.exisList[t].costControlSystemNo=null}})},v=(a("c085"),a("2877")),m=Object(v.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reimbursement"},[a("div",{staticClass:"reimbursement-title ivu-common-shadow"},[a("span",[t._v("服务中心："+t._s(t.userMessage.serviceCenterName))]),t._v(" "),a("span",[t._v("报账人："+t._s(t.userMessage.empName))]),t._v(" "),a("span",[t._v(t._s(t.userMessage.nowDate)+" "+t._s(t.day))])]),t._v(" "),a("div",{staticClass:"panel-container ivu-common-shadow reimb-container"},[t.reimLoading?a("Spin",{attrs:{fix:""}}):t._e(),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"combined comb-top"},[a("table",[t._m(1),t._v(" "),t._m(2),t._v(" "),t._l(t.auditDaily.operateList,(function(e,s){return"999999"!==e.operateId?a("tr",{key:s,class:"reim-bg"+s},[a("td",[t._v(t._s(e.operateName))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.receiveAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiveAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.refundAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posRefundAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.cashSummaryOfTurnover)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.receiptAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posSummaryOfBusinessReceipts)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiptReceiveAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posSummaryOfBusinessRefund)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiptRefundAmount)))])]):t._e()})),t._v(" "),t._l(t.tableTotalData,(function(e,s){return a("tr",{key:s+10},[a("td",[t._v(t._s(e.operateName))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.receiveAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.receiveAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posReceiveAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiveAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.refundAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.refundAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posRefundAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.posRefundAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.cashSummaryOfTurnover}},[t._v(t._s(t._f("formatMoneyFilter")(e.cashSummaryOfTurnover)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.receiptAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.receiptAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posSummaryOfBusinessReceipts}},[t._v(t._s(t._f("formatMoneyFilter")(e.posSummaryOfBusinessReceipts)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posReceiptReceiveAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiptReceiveAmount)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posSummaryOfBusinessRefund}},[t._v(t._s(t._f("formatMoneyFilter")(e.posSummaryOfBusinessRefund)))]),t._v(" "),a("td",{class:{"no-money":2===s&&e.posReceiptRefundAmount}},[t._v(t._s(t._f("formatMoneyFilter")(e.posReceiptRefundAmount)))])])})),t._v(" "),t.auditDaily.operateList&&0===t.auditDaily.operateList.length?a("tr",[a("td",{attrs:{colspan:"11"}},[t._v("暂无数据")])]):t._e()],2)]),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"existential"},[t._l(t.exisList,(function(e,s){return a("Row",{key:s},[a("Col",{staticClass:"exis-box",attrs:{span:"5"}},[a("span",{staticClass:"exis-long"},[t._v("存款类型 "),a("i",[t._v("*")])]),t._v(" "),a("Select",{attrs:{transfer:"",clearable:""},on:{"on-change":function(e){return t.changeDepositType(s)}},model:{value:e.depositType,callback:function(a){t.$set(e,"depositType",a)},expression:"v.depositType"}},t._l(t.depositTypeList,(function(e,s){return a("Option",{key:s,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),t._v(" "),2===e.depositType||3===e.depositType?a("Col",{staticClass:"exis-box",attrs:{span:"7"}},[a("span",{staticClass:"w190"},[t._v("费控系统单据编号 "),a("i",[t._v("*")])]),t._v(" "),a("Input",{attrs:{maxlength:50},model:{value:e.costControlSystemNo,callback:function(a){t.$set(e,"costControlSystemNo",a)},expression:"v.costControlSystemNo"}})],1):t._e(),t._v(" "),a("Col",{staticClass:"exis-box",attrs:{span:"3"}},[a("span",[t._v("存款码")]),t._v(" "),a("Input",{attrs:{maxlength:30},model:{value:e.depositCode,callback:function(a){t.$set(e,"depositCode",a)},expression:"v.depositCode"}})],1),t._v(" "),a("Col",{staticClass:"exis-box",attrs:{span:"4"}},[a("span",[t._v("用途")]),t._v(" "),a("Input",{attrs:{maxlength:30},model:{value:e.purpose,callback:function(a){t.$set(e,"purpose",a)},expression:"v.purpose"}})],1),t._v(" "),a("Col",{staticClass:"exis-box",attrs:{span:"4"}},[a("span",{staticClass:"exis-long"},[t._v("存款金额 "),a("i",[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.depositAmount,expression:"v.depositAmount"}],staticClass:"ivu-input ivu-input-default",attrs:{type:"number"},domProps:{value:e.depositAmount},on:{mousewheel:function(t){t.preventDefault()},input:[function(a){a.target.composing||t.$set(e,"depositAmount",a.target.value)},function(a){return t.setLength(e,s)}],keyup:function(a){return t.setFloat(e,s)}}})]),t._v(" "),a("Col",{staticClass:"exis-box",attrs:{span:"1"}},[a("Icon",0===s?{attrs:{type:"md-add-circle",size:"26",color:"#2781ee"},on:{click:t.addExis}}:{attrs:{type:"md-close-circle",size:"26",color:"red"},on:{click:function(e){return t.delExis(s)}}})],1)],1)})),t._v(" "),a("p",{staticClass:"exis-prop"},[t._v("注意：备用金存现，请于当日登录费控提交还款登记单联系资金核销借款，存款码和用途选填一个即可。")])],2),t._v(" "),t._m(4),t._v(" "),a("table",[t._m(5),t._v(" "),t._m(6),t._v(" "),a("tr",{staticClass:"qt-input"},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.servcenterOtherBudget.otherIncomeBookAmount,expression:"servcenterOtherBudget.otherIncomeBookAmount"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.servcenterOtherBudget.otherIncomeBookAmount},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormat("servcenterOtherBudget","otherIncomeBookAmount")},input:function(e){e.target.composing||t.$set(t.servcenterOtherBudget,"otherIncomeBookAmount",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.servcenterOtherBudget.otherIncomeRegistFeeAmount,expression:"servcenterOtherBudget.otherIncomeRegistFeeAmount"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.servcenterOtherBudget.otherIncomeRegistFeeAmount},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormat("servcenterOtherBudget","otherIncomeRegistFeeAmount")},input:function(e){e.target.composing||t.$set(t.servcenterOtherBudget,"otherIncomeRegistFeeAmount",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.servcenterOtherBudget.otherIncomeAmount,expression:"servcenterOtherBudget.otherIncomeAmount"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.servcenterOtherBudget.otherIncomeAmount},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormat("servcenterOtherBudget","otherIncomeAmount")},input:function(e){e.target.composing||t.$set(t.servcenterOtherBudget,"otherIncomeAmount",e.target.value)}}})]),t._v(" "),a("td",{staticClass:"rw100"},[t._v(t._s(t.addUpOne))]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.servcenterOtherBudget.otherExpenseBookAmount,expression:"servcenterOtherBudget.otherExpenseBookAmount"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.servcenterOtherBudget.otherExpenseBookAmount},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormat("servcenterOtherBudget","otherExpenseBookAmount")},input:function(e){e.target.composing||t.$set(t.servcenterOtherBudget,"otherExpenseBookAmount",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.servcenterOtherBudget.otherExpenseRegistFeeAmount,expression:"servcenterOtherBudget.otherExpenseRegistFeeAmount"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.servcenterOtherBudget.otherExpenseRegistFeeAmount},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormat("servcenterOtherBudget","otherExpenseRegistFeeAmount")},input:function(e){e.target.composing||t.$set(t.servcenterOtherBudget,"otherExpenseRegistFeeAmount",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.servcenterOtherBudget.otherExpenseAmount,expression:"servcenterOtherBudget.otherExpenseAmount"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.servcenterOtherBudget.otherExpenseAmount},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormat("servcenterOtherBudget","otherExpenseAmount")},input:function(e){e.target.composing||t.$set(t.servcenterOtherBudget,"otherExpenseAmount",e.target.value)}}})]),t._v(" "),a("td",{staticClass:"rw100"},[t._v(t._s(t.addUpTwo))]),t._v(" "),a("td",{staticClass:"rw100"},[t._v(t._s(t.addUpThree))])])]),t._v(" "),"00852"===t.cityCode?a("p",{staticClass:"exis-prop",staticStyle:{"padding-top":"20px"}},[t._v(" * 提示：香港书籍费（意向金）无需填在此处。")]):t._e(),t._v(" "),t._m(7),t._v(" "),a("div",{staticClass:"combined"},[a("table",[t._m(8),t._v(" "),a("tr",{staticClass:"qt-input"},[a("td",[a("table",{staticStyle:{border:"none"}},[t._m(9),t._v(" "),a("tr",{staticClass:"qt-input"},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.auditDaily.businessPaymentBeginBalance,expression:"auditDaily.businessPaymentBeginBalance"}],attrs:{type:"number",placeholder:"0.00"},domProps:{value:t.auditDaily.businessPaymentBeginBalance},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormatFloat("auditDaily","businessPaymentBeginBalance")},input:function(e){e.target.composing||t.$set(t.auditDaily,"businessPaymentBeginBalance",e.target.value)}}})]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.auditDaily.businessReceiptTodayAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.auditDaily.businessRefundTodayAmount)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatMoneyFilter")(t.cashStoreTodyAmount)))]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.serventerDayAudit.crossCampusAdjustAmount,expression:"serventerDayAudit.crossCampusAdjustAmount"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.serventerDayAudit.crossCampusAdjustAmount},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormatFloat("serventerDayAudit","crossCampusAdjustAmount")},input:function(e){e.target.composing||t.$set(t.serventerDayAudit,"crossCampusAdjustAmount",e.target.value)}}})]),t._v(" "),a("td",[t._v(t._s(t.businessPaymentEndBalance))])]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),a("tr",{staticClass:"qt-input"},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.auditDaily.tempReserveBeginBalance,expression:"auditDaily.tempReserveBeginBalance"}],attrs:{type:"number",placeholder:"0.00"},domProps:{value:t.auditDaily.tempReserveBeginBalance},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormatFloat("auditDaily","tempReserveBeginBalance")},input:function(e){e.target.composing||t.$set(t.auditDaily,"tempReserveBeginBalance",e.target.value)}}})]),t._v(" "),a("td",{attrs:{colspan:"2"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.serventerDayAudit.tempReserveLoanTodayAmount,expression:"serventerDayAudit.tempReserveLoanTodayAmount"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.serventerDayAudit.tempReserveLoanTodayAmount},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormat("serventerDayAudit","tempReserveLoanTodayAmount")},input:function(e){e.target.composing||t.$set(t.serventerDayAudit,"tempReserveLoanTodayAmount",e.target.value)}}})]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("\n                "+t._s(t._f("formatMoneyFilter")(t.serventerDayAudit.tempReserveRepaymentTodayAmount))+"\n                ")]),t._v(" "),a("td",[t._v(t._s(t.tempReserveEndBalance))])]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),a("tr",{staticClass:"qt-input"},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.auditDaily.quotaReserveBeginBalance,expression:"auditDaily.quotaReserveBeginBalance"}],attrs:{type:"number",placeholder:"0.00"},domProps:{value:t.auditDaily.quotaReserveBeginBalance},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormatFloat("auditDaily","quotaReserveBeginBalance")},input:function(e){e.target.composing||t.$set(t.auditDaily,"quotaReserveBeginBalance",e.target.value)}}})]),t._v(" "),a("td",{attrs:{colspan:"2"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.serventerDayAudit.quotaReserveLoanTodayAmount,expression:"serventerDayAudit.quotaReserveLoanTodayAmount"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.serventerDayAudit.quotaReserveLoanTodayAmount},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormatFloat("serventerDayAudit","quotaReserveLoanTodayAmount")},input:function(e){e.target.composing||t.$set(t.serventerDayAudit,"quotaReserveLoanTodayAmount",e.target.value)}}})]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("\n                "+t._s(t._f("formatMoneyFilter")(t.serventerDayAudit.quotaReserveRepaymentTodayAmount))+"\n                ")]),t._v(" "),a("td",[t._v(t._s(t.quotaReserveEndBalance))])])])]),t._v(" "),a("td",[t._v(t._s(t.cashBalanceTodyAmount))]),t._v(" "),a("td",[t._v("\n            "+t._s(t._f("formatMoneyFilter")(t.auditDaily.cashSafeYesterdayAmount))+"\n            ")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.serventerDayAudit.cashActualBalanceTodyAmount,expression:"serventerDayAudit.cashActualBalanceTodyAmount"}],attrs:{type:"number",placeholder:"0.00"},domProps:{value:t.serventerDayAudit.cashActualBalanceTodyAmount},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormat("serventerDayAudit","cashActualBalanceTodyAmount")},input:function(e){e.target.composing||t.$set(t.serventerDayAudit,"cashActualBalanceTodyAmount",e.target.value)}}})]),t._v(" "),a("td",{class:{"no-money":0!==Number(t.lengthShortnessAmount)||-0!==Number(t.lengthShortnessAmount)}},[t._v(t._s(t.lengthShortnessAmount))])])])]),t._v(" "),t._m(14),t._v(" "),a("table",[t._m(15),t._v(" "),t._m(16),t._v(" "),a("tr",{staticClass:"qt-input"},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.serventerDayAudit.otherIncomeAndExpenditureYesterday,expression:"serventerDayAudit.otherIncomeAndExpenditureYesterday"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.serventerDayAudit.otherIncomeAndExpenditureYesterday},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormat("serventerDayAudit","otherIncomeAndExpenditureYesterday")},input:function(e){e.target.composing||t.$set(t.serventerDayAudit,"otherIncomeAndExpenditureYesterday",e.target.value)}}})]),t._v(" "),a("td",{staticClass:"rw100"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.auditDaily.otherBeginBalance,expression:"auditDaily.otherBeginBalance"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.auditDaily.otherBeginBalance},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormatFloat("auditDaily","otherBeginBalance")},input:function(e){e.target.composing||t.$set(t.auditDaily,"otherBeginBalance",e.target.value)}}})]),t._v(" "),a("td",{staticClass:"rw100"},[t._v(t._s(t.addUpThree))]),t._v(" "),a("td",[t._v("\n            "+t._s(t._f("formatMoneyFilter")(t.serventerDayAudit.otherDepositCash))+"\n            ")]),t._v(" "),a("td",[t._v(t._s(t.otherEndBalance))]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.serventerDayAudit.otherIncomeAndExpenditureToday,expression:"serventerDayAudit.otherIncomeAndExpenditureToday"}],attrs:{type:"number",step:"0.01",placeholder:"0.00"},domProps:{value:t.serventerDayAudit.otherIncomeAndExpenditureToday},on:{mousewheel:function(t){t.preventDefault()},keyup:function(e){return t.dealDataFormat("serventerDayAudit","otherIncomeAndExpenditureToday")},input:function(e){e.target.composing||t.$set(t.serventerDayAudit,"otherIncomeAndExpenditureToday",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"note"},[a("span",[t._v("备注：")]),t._v(" "),a("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},maxlength:500},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),t._v(" "),a("div",{staticClass:"invoicing"},[a("Button",{attrs:{type:"primary"},on:{click:t.getMoney}},[t._v("报账")])],1)],1),t._v(" "),a("promptdialog",{attrs:{dialogShow:t.dialogShow,dialogText:t.dialogText},on:{changeDialog:t.changeDialog}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reim-title"},[e("span"),this._v(" "),e("p",[this._v("营业款")]),this._v(" "),e("span",{staticClass:"reim-span"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"table-th",attrs:{rowspan:"2"}},[t._v("收营员")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"2"}},[t._v("营业款收费")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"2"}},[t._v("营业款退费")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"2"}},[t._v("今日现金结账")]),t._v(" "),a("th",{staticClass:"table-th",attrs:{colspan:"4"}},[t._v("今日脱机POS结账")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"table-th"},[t._v("现金")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("脱机POS")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("现金")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("脱机POS")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("营业额现金小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("实际现金小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("营业收款小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("实际收款小票合计")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("营业退款小结")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("实际退款小票合计")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reim-title reim-nth"},[e("span"),this._v(" "),e("p",[this._v("银行存现")]),this._v(" "),e("span",{staticClass:"reim-span"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reim-title reim-nth"},[e("span"),this._v(" "),e("p",[this._v("其他收支")]),this._v(" "),e("span",{staticClass:"reim-span"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticClass:"table-th",attrs:{colspan:"4"}},[this._v("其他收入")]),this._v(" "),e("th",{staticClass:"table-th",attrs:{colspan:"4"}},[this._v("其他支出")]),this._v(" "),e("th",{staticClass:"table-th"},[this._v("收支合计")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"table-th"},[t._v("书籍费")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("考试报名费")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("其他")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("小计")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("书籍费")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("考试报名费")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("其他")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("小计")]),t._v(" "),a("td",{staticClass:"table-th"},[t._v("净额")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reim-title reim-nth"},[e("span"),this._v(" "),e("p",[this._v("营业款、备用金合计")]),this._v(" "),e("span",{staticClass:"reim-span"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"table-th"},[t._v("营业款")]),t._v(" "),a("th",{staticClass:"table-th"},[t._v("今日现金账面余额总计")]),t._v(" "),a("th",{staticClass:"table-th"},[t._v("昨日保险柜实际现金余额--营业款、备用金")]),t._v(" "),a("th",{staticClass:"table-th"},[t._v("今日保险柜实际现金余额--营业款、备用金")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("长短款")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"rw100 table-th"},[t._v("期初余额")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("本日营业收款")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("本日营业退款")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("营业款存现")]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("跨校区调整金额"),a("div",{staticStyle:{color:"red"}},[t._v("（调入为正、调出为负）")])]),t._v(" "),a("th",{staticClass:"rw100 table-th"},[t._v("期末余额")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticClass:"rw100 table-th",attrs:{colspan:"6"}},[this._v("临时备用金")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticClass:"rw100 table-th"},[this._v("期初余额")]),this._v(" "),e("th",{staticClass:"table-th",attrs:{colspan:"2"}},[this._v("临时备用金借款")]),this._v(" "),e("th",{staticClass:"table-th",attrs:{colspan:"2"}},[this._v("临时备用金还款")]),this._v(" "),e("th",{staticClass:"rw100 table-th"},[this._v("期末余额")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticClass:"rw100 table-th",attrs:{colspan:"6"}},[this._v("长期备用金")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticClass:"rw100 table-th"},[this._v("期初余额")]),this._v(" "),e("th",{staticClass:"table-th",attrs:{colspan:"2"}},[this._v("长期备用金借款")]),this._v(" "),e("th",{staticClass:"table-th",attrs:{colspan:"2"}},[this._v("长期备用金还款")]),this._v(" "),e("th",{staticClass:"rw100 table-th"},[this._v("期末余额")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reim-title reim-nth"},[e("span"),this._v(" "),e("p",[this._v("其他收支合计")]),this._v(" "),e("span",{staticClass:"reim-span"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticClass:"table-th",attrs:{rowspan:"2"}},[this._v("昨日保险柜实际现金余额--其他收支")]),this._v(" "),e("th",{staticClass:"table-th",attrs:{colspan:"4"}},[this._v("书籍费、考试报名费等其他收支净额")]),this._v(" "),e("th",{staticClass:"table-th",attrs:{rowspan:"2"}},[this._v("今日保险柜实际现金余额--其他收支")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticClass:"table-th"},[this._v("期初余额")]),this._v(" "),e("th",{staticClass:"table-th"},[this._v("收支净额")]),this._v(" "),e("th",{staticClass:"table-th"},[this._v("存现")]),this._v(" "),e("th",{staticClass:"rw100 table-th"},[this._v("期末余额")])])}],!1,null,"38e21833",null);e.default=m.exports},6723:function(t,e,a){"use strict";a.r(e);a("8e6e"),a("ac6a"),a("cadf"),a("456d"),a("097d");var s=a("bd86"),n=a("09c2"),i=a("1ca4"),o=a("e47f"),r=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={name:"reimbursementpreview",data:function(){var t=this;return{supplementShow:!1,supplementText:{content:"此服务中心存在漏报账，请及时补报！",button:"去补报"},dayAuditId:"",tableLoading:!1,columns:[{title:"操作",key:"action",width:80,align:"center",render:function(e,a){return e("div",[e("span",{style:{marginRight:"5px",color:"blue",cursor:"pointer"},on:{click:function(){t.show(a.row.id)}}},"查看")])}},{title:"服务中心",key:"serviceCenterName",align:"center"},{title:"报账人",key:"createName",align:"center"},{title:"报账日期",key:"auditDate",align:"center"},{title:"操作时间",key:"createTime",align:"center"},{title:"当前现金实际金额合计",key:"actualAccountAmount",align:"center"},{title:"审核状态",key:"auditStauts",align:"center",render:function(t,e){var a="";return 0===e.row.auditStauts?a="未审核":1===e.row.auditStauts?a="审核通过":2===e.row.auditStauts&&(a="审核不通过"),t("span",{},a)}}],tableData:[],dialogShow:!1,detailList:{operateList:[],servcenterDepositList:[],servcenterOtherBudget:{},serventerDayAudit:{},remarks:"",userMessage:{serviceCenterName:"",empName:"",nowDate:""}},cityCode:"",userMessage:{serviceCenterName:""}}},components:{centerview:i.a,promptdialog:o.a},beforeMount:function(){this.auditMissingReportTip()},methods:u(u({},Object(r.d)(["closeTag"])),{},{auditMissingReportTip:function(){var t=this;Object(n.d)({isAudit:2}).then((function(e){t.cityCode=e,t.serviceCenterEmpInfo()})).catch((function(e){"40004"===e.code?t.$Modal.info({title:"提示",content:e.message,okText:"去补报",onOk:function(){var e=t.$route;t.closeTag(e),t.$router.push({name:"prescribeddaily"})}}):t.$Modal.info({title:"提示",content:e.message,okText:"确定",onOk:function(){var e=t.$route;t.closeTag(e)}})}))},timeChange:function(t){this.dayAuditId=t},supplementDialog:function(t){!0===t||(this.supplementShow=!1)},show:function(t){this.auditServiceDailyInfo(t)},changeDialog:function(t){!0===t||(this.dialogShow=!1)},auditServiceDailyInfo:function(t){var e=this;Object(n.i)({dayAuditId:t,cityCode:this.cityCode,queryType:1}).then((function(t){e.detailList=t,e.detailList.userMessage=e.userMessage,e.dialogShow=!0})).catch((function(t){e.$Message.warning({content:"获取明细信息失败:"+t.message,duration:5})}))},serviceCenterEmpInfo:function(){var t=this;Object(n.l)({cityCode:this.cityCode}).then((function(e){t.userMessage=e})).catch((function(e){t.$Message.warning({content:"获取服务中心用户信息失败:"+e.message,duration:5})}))},auditDayList:function(){var t=this;this.tableLoading=!0,Object(n.c)({cityCode:this.cityCode,startAuditDate:this.dayAuditId}).then((function(e){e instanceof Array?t.tableData=e:t.$Message.warning({content:"获取列表信息失败:"+e.message,duration:5})})).catch((function(e){t.$Message.warning({content:"获取列表信息失败:"+e.message,duration:5})})).finally((function(){t.tableLoading=!1}))}})},d=(a("36e7"),a("2877")),v=Object(d.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reimbursement"},[a("div",{staticClass:"pres-top"},[a("span",{staticClass:"firspan"},[t._v("款项所属服务中心："+t._s(t.userMessage.serviceCenterName))]),t._v(" "),a("span",[t._v("报账日期：")]),t._v(" "),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",format:"yyyy-MM-dd",placement:"bottom-end",placeholder:"请选择日期"},on:{"on-change":t.timeChange},model:{value:t.dayAuditId,callback:function(e){t.dayAuditId=e},expression:"dayAuditId"}}),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.tableLoading},on:{click:t.auditDayList}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"pres-center"},[a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData,loading:t.tableLoading}})],1),t._v(" "),a("centerview",{attrs:{dialogShow:t.dialogShow,detailList:t.detailList},on:{changeDialog:t.changeDialog}}),t._v(" "),a("promptdialog",{attrs:{dialogShow:t.supplementShow,dialogText:t.supplementText},on:{changeDialog:t.supplementDialog}})],1)}),[],!1,null,"7fc8be35",null);e.default=v.exports},"6b37":function(t,e,a){},8121:function(t,e,a){"use strict";var s=a("054c");a.n(s).a},"965b":function(t,e,a){"use strict";var s=a("f660");a.n(s).a},a636:function(t,e,a){"use strict";a.r(e);a("8e6e"),a("ac6a"),a("cadf"),a("456d");var s=a("bd86"),n=a("09c2"),i=a("0a03"),o=a("2f62");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={name:"Map",data:function(){return{dataSrc:"",cityCode:null}},components:{TalIframe:i.a},mounted:function(){this.auditMissingReportTip()},methods:c(c({},Object(o.d)(["closeTag"])),{},{generateAuditPersonFinanceList:function(){var t=this;Object(n.j)({cityCode:this.cityCode}).then((function(e){t.dataSrc=e.url})).catch((function(e){t.$Message.error({content:e.message,duration:5})}))},auditMissingReportTip:function(){var t=this;Object(n.d)({isAudit:2}).then((function(e){t.cityCode=e,t.generateAuditPersonFinanceList()})).catch((function(e){"40004"===e.code?t.$Modal.info({title:"提示",content:e.message,okText:"去补报",onOk:function(){var e=t.$route;t.closeTag(e),t.$router.push({name:"prescribeddaily"})}}):t.$Modal.info({title:"提示",content:e.message,okText:"确定",onOk:function(){var e=t.$route;t.closeTag(e)}})}))}})},l=a("2877"),d=Object(l.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{attrs:{id:"map"}},[e("TalIframe",{attrs:{"content-src":this.dataSrc}})],1)}),[],!1,null,null,null);e.default=d.exports},b881:function(t,e,a){},bd7a:function(t,e,a){"use strict";var s=a("3e61");a.n(s).a},c085:function(t,e,a){"use strict";var s=a("6b37");a.n(s).a},c7ad:function(t,e,a){},cbd1:function(t,e,a){},e47f:function(t,e,a){"use strict";var s={name:"promptdialog",data:function(){return{modal1:!0}},props:["dialogShow","dialogText"],methods:{ok:function(){this.$emit("changeDialog",!0)},cancel:function(t){!1===t&&this.$emit("changeDialog",!1)}}},n=(a("bd7a"),a("2877")),i=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{value:t.dialogShow,title:"提示",width:"300","mask-closable":!1},on:{"on-visible-change":t.cancel}},[a("p",{staticClass:"fin-text"},[t._v(t._s(t.dialogText?t.dialogText.content:""))]),t._v(" "),a("div",{staticClass:"fin-footer",attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v(t._s(t.dialogText?t.dialogText.button:"确认"))]),t._v(" "),t.dialogText.cancelBtn?a("Button",{staticStyle:{"margin-left":"20px"},on:{click:function(e){return t.cancel(!1)}}},[t._v(t._s(t.dialogText?t.dialogText.cancelBtn:"取消"))]):t._e()],1)])}),[],!1,null,"17a1d4f6",null);e.a=i.exports},e6a0:function(t,e,a){"use strict";a.r(e);a("8e6e"),a("ac6a"),a("cadf"),a("456d"),a("097d"),a("7f7f");var s=a("bd86"),n=a("e47f"),i=a("09c2"),o=a("1ca4"),r=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={name:"prescribeddaily",data:function(){var t=this;return{form:{startMissingTime:"",endMissingTime:"",commitStatus:"",pageSize:10,pageNo:1},total:0,tableLoading:!1,columns7:[{title:"操作",key:"action",width:80,align:"center",render:function(e,a){var s="";return 0===a.row.commitStatus?s="补报":1===a.row.commitStatus&&(s="查看"),e("div",[e("span",{style:{marginRight:"5px",color:"blue",cursor:"pointer"},on:{click:function(){1===a.row.commitStatus?t.auditServiceDailyInfo(a.row.id):t.$router.push({name:"reimbursementForMulti",params:{id:(new Date).getTime()},query:{type:"accountType",time:a.row.missTime}})}}},s)])}},{title:"漏报日期",key:"missTime",align:"center"},{title:"是否有缴退费",key:"changeStatus",align:"center",render:function(t,e){var a="";return 0===e.row.changeStatus?a="否":1===e.row.changeStatus&&(a="是"),t("span",{},a)}},{title:"是否已补报",key:"commitStatus",align:"center",render:function(t,e){var a="";return 0===e.row.commitStatus?a="否":1===e.row.commitStatus&&(a="是"),t("span",{},a)}},{title:"补报人",key:"commitName",align:"center"},{title:"操作时间",key:"commitTime",align:"center"},{title:"补报原因",key:"reason",align:"center"}],tableData:[],dialogShow:!1,dataRange:[],detailList:{operateLists:[],personDayAuditList:[],servcenterDepositList:[],servcenterOtherBudget:{},serventerDayAudit:{},tableTotalData:[]},cityCode:"",supplementShow:!1,supplementText:{content:"此服务中心存在漏报账，请及时补报！",button:"去补报"},nowRage:[]}},components:{centerview:o.a,promptdialog:n.a},beforeMount:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate(),n=e+"-"+(a<10?"0"+a:a)+"-"+(s<10?"0"+s:s),i=new Date(e,t.getMonth(),s-31),o=i.getFullYear(),r=i.getMonth()+1,c=i.getDate(),u=o+"-"+(r<10?"0"+r:r)+"-"+(c<10?"0"+c:c);this.form.startMissingTime=u,this.form.endMissingTime=n,this.dataRange=[u,n],this.nowRage=[u,n],this.auditMissingReportTip()},methods:u(u({},Object(r.d)(["closeTag"])),{},{supplementDialog:function(t){!0===t||(this.supplementShow=!1)},show:function(t){this.$Modal.info({title:"User Info",content:"Name：".concat(this.data6[t].name,"<br>Age：").concat(this.data6[t].age,"<br>Address：").concat(this.data6[t].address)})},changeDialog:function(t){!0===t||(this.dialogShow=!1)},auditServiceDailyInfo:function(t){var e=this;Object(i.i)({dayAuditId:t,cityCode:this.cityCode,queryType:0}).then((function(t){t&&(e.detailList=t,e.dialogShow=!0)})).catch((function(t){e.$Message.warning({content:"获取服务中心用户信息失败:"+t.message,duration:5})}))},auditMissingReports:function(t){var e=this;0===this.dataRange.length&&(this.dataRange=this.nowRage,this.form.startMissingTime=this.dataRange[0],this.form.endMissingTime=this.dataRange[1]),t&&(this.tableLoading=!0,this.form.pageNo=1);var a=u(u({},this.form),{},{cityCode:this.cityCode});"all"===a.commitStatus&&(a.commitStatus=""),Object(i.e)(a).then((function(t){e.tableData=t.records,e.total=t.totalCount})).catch((function(t){e.$Message.warning({content:"获取信息失败:"+t.message,duration:5})})).finally((function(){e.tableLoading=!1}))},timeChange:function(t){t&&2===t.length&&(this.DateMinus(t[0],t[1])>30?(this.$Message.warning({content:"时间跨度不能大于1个月",duration:5}),this.dataRange=[],this.form.startMissingTime="",this.form.endMissingTime=""):(this.form.startMissingTime=t[0],this.form.endMissingTime=t[1]))},clearChange:function(){this.dataRange=[],this.form.startMissingTime="",this.form.endMissingTime=""},DateMinus:function(t,e){var a=new Date(t),s=new Date(e).getTime()-a.getTime();return parseInt(s/864e5)},changePageNum:function(t){this.form.pageNo=t,this.auditMissingReports()},changePageSize:function(t){this.form.pageSize=t,this.auditMissingReports()},auditMissingReportTip:function(){var t=this;Object(i.d)({isAudit:2}).then((function(e){t.cityCode=e})).catch((function(e){t.$Modal.info({title:"提示",content:e.message,okText:"确定",onOk:function(){var e=t.$route;t.closeTag(e)}})}))}})},d=(a("1915"),a("39a1"),a("2877")),v=Object(d.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"prescribeddaily"},[a("div",{staticClass:"pres-top"},[a("span",{staticClass:"firspan"},[t._v("漏报日期")]),t._v(" "),a("DatePicker",{attrs:{value:t.dataRange,format:"yyyy-MM-dd",type:"daterange",placement:"bottom-end",separator:"至",placeholder:"请选择日期",transfer:""},on:{"on-change":t.timeChange,"on-clear":t.clearChange}}),t._v(" "),a("span",[t._v("补报状态")]),t._v(" "),a("Select",{staticStyle:{width:"100px"},attrs:{transfer:""},model:{value:t.form.commitStatus,callback:function(e){t.$set(t.form,"commitStatus",e)},expression:"form.commitStatus"}},[a("Option",{attrs:{value:"all"}},[t._v("全部")]),t._v(" "),a("Option",{attrs:{value:"1"}},[t._v("已补报")]),t._v(" "),a("Option",{attrs:{value:"0"}},[t._v("未补报")])],1),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.tableLoading},on:{click:function(e){return t.auditMissingReports(1)}}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"pres-center"},[a("Table",{attrs:{border:"",columns:t.columns7,data:t.tableData,loading:t.tableLoading}})],1),t._v(" "),a("div",{staticClass:"pres-bottom"},[a("Page",{attrs:{total:t.total,"show-sizer":"","show-elevator":"","show-total":"",current:t.form.pageNo},on:{"on-change":t.changePageNum,"on-page-size-change":t.changePageSize}})],1),t._v(" "),a("centerview",{attrs:{dialogShow:t.dialogShow,detailList:t.detailList},on:{changeDialog:t.changeDialog}}),t._v(" "),a("promptdialog",{attrs:{dialogShow:t.supplementShow,dialogText:t.supplementText},on:{changeDialog:t.supplementDialog}})],1)}),[],!1,null,"6f40cd62",null);e.default=v.exports},f660:function(t,e,a){}}]);
//# sourceMappingURL=finance.6939032f.js.map